(window.stackbitJsonp=window.stackbitJsonp||[]).push([[14],{1e3:function(e){e.exports=JSON.parse('{"completedHtml":"<h1>Success!</h1><p>Thank you for your feedback.</p>","pages":[{"name":"page1","elements":[{"type":"checkbox","name":"question1-persona","title":"I am a... ","isRequired":true,"requiredErrorText":"Please tick one or more choices","choices":["Developer","Marketer","Agency","Freelancer"],"hasOther":true}]},{"name":"page2","elements":[{"type":"radiogroup","name":"question2-archetype","title":"I want to create a...","isRequired":true,"choices":["Blog / Portfolio","Landing page","Store (ecommerce)","Marketing site","Not sure"]}]},{"name":"page4","elements":[{"type":"checkbox","name":"question4-ecommercetype","visibleIf":"{question2-archetype} = \'Store (ecommerce)\'","title":"Which eCommerce solutions are you using?","enableIf":"{question2-archetype} = \'Store (ecommerce)\'","requiredIf":"{question2-archetype} = \'Store (ecommerce)\'","choices":[{"value":"shopify","text":"Shopify"},{"value":"snipcart","text":"Snipcart"},{"value":"bigcommerce","text":"Bigcommerce"}],"hasOther":true,"otherPlaceHolder":"Which ecommerce platform are you using?"}]},{"name":"page3","elements":[{"type":"radiogroup","name":"question3-technicalskills","title":"My technical skills are...","isRequired":true,"choices":["Superb","Average","Tinkerer","I don\'t write code"]}]}],"showPrevButton":true,"showCompletedPage":true,"showProgressBar":"top","progressBarType":"questions","pagePrevText":"Back","pageNextText":"Next Question"}')},1001:function(e,t,n){},1002:function(e,t,n){},1004:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{fill:"#20c778",d:"M41,176.375c-13.255,0-24,10.745-24,24s10.745,24,24,24s24-10.745,24-24S54.255,176.375,41,176.375z   M52.812,196.801l-12.819,12.82c-1.557,1.556-4.022,1.635-5.48,0.177c-0.209-0.209-0.378-0.442-0.523-0.688l-5.24-5.238  c-1.557-1.557-1.636-4.021-0.178-5.479c1.459-1.457,3.925-1.379,5.48,0.178l3.194,3.194L47.509,191.5  c1.558-1.556,4.022-1.635,5.479-0.177C54.447,192.779,54.367,195.246,52.812,196.801z"}))}a.defaultProps={height:"24px",width:"24px",fill:"#20c778",version:"1.1",x:"0px",y:"0px",viewBox:"17 176.375 48 48",enableBackground:"new 17 176.375 48 48",xmlSpace:"preserve"},e.exports=a,a.default=a},1005:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("title",{key:0},"x"),r.createElement("desc",{key:1},"Created with Sketch."),r.createElement("g",{id:"Self-serve-v08",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",key:2},r.createElement("g",{id:"Try-Now-/-Contentful---Out-of-space-warning",transform:"translate(-587.000000, -453.000000)",fill:"#F04842",fillRule:"nonzero"},r.createElement("g",{id:"Create-Website",transform:"translate(239.000000, 250.000000)"},r.createElement("g",{id:"Create-a-Sample-Site",transform:"translate(1.000000, 68.000000)"},r.createElement("g",{id:"btn",transform:"translate(327.000000, 117.000000)"},r.createElement("path",{d:"M34.5,18 C42.5114155,18 49,24.4885845 49,32.5 C49,40.5114155 42.5114155,47 34.5,47 C26.4885845,47 20,40.5114155 20,32.5 C20,24.4885845 26.4885845,18 34.5,18 Z M39.2450709,28.2986791 C38.6552165,27.7088247 37.6988736,27.7088247 37.1090192,28.2986791 L37.1090192,28.2986791 L34.802,30.605 L32.4951475,28.2986791 C31.9052931,27.7088247 30.9489501,27.7088247 30.3590957,28.2986791 C29.7692413,28.8885335 29.7692413,29.8448764 30.3590957,30.4347308 L32.666,32.741 L30.3590957,35.0486025 C29.8061072,35.601591 29.7715454,36.4766886 30.2554104,37.0699407 L30.3590957,37.1846543 C30.9489501,37.7745087 31.9052931,37.7745087 32.4951475,37.1846543 L32.4951475,37.1846543 L34.802,34.877 L37.1090192,37.1846543 C37.6988736,37.7745087 38.6552165,37.7745087 39.2450709,37.1846543 C39.8349253,36.5947999 39.8349253,35.6384569 39.2450709,35.0486025 L36.938,32.741 L39.2450709,30.4347308 C39.7980594,29.8817423 39.8326212,29.0066447 39.3487563,28.4133926 Z",id:"x"}))))))])}a.defaultProps={width:"29px",height:"29px",viewBox:"0 0 29 29",version:"1.1"},e.exports=a,a.default=a},1006:function(e,t,n){},1007:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("g",{id:"Wizard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"wizard-CodeSandbox4",transform:"translate(-585.000000, -8.000000)",fill:"#FFFFFF"},r.createElement("g",{id:"CodeSandbox"},r.createElement("g",{id:"CodeSandbox-symbol-bright",transform:"translate(585.000000, 8.000000)"},r.createElement("path",{d:"M0,5.77885822 L10.5,0 L21,5.75 L21,17.2510965 L10.5,23 L0,17.2963793 L0,5.77885822 Z M2.25957767,6.16945871 L10.5,10.6500353 L18.7181126,6.16945871 L14.4251438,3.80928482 L10.6645773,5.87366197 L6.70219338,3.72271016 L2.25957767,6.16945871 Z M1.47049882,7.38770389 L1.47049882,12.423463 L5.40696914,14.6111957 L5.40696914,18.5768597 L9.71034911,20.9129324 L9.71034911,11.8894732 L1.47049882,7.38770389 Z M11.1900007,11.9402006 L11.1900007,20.973977 L15.8250523,18.4342176 L15.8250523,14.5352662 L19.5308741,12.4754303 L19.5308741,7.35884567 L11.1900007,11.9402006 Z",id:"CodeSandbox-symbol"}))))))}a.defaultProps={width:"21px",height:"23px",viewBox:"0 0 21 23",version:"1.1"},e.exports=a,a.default=a},1008:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{d:"m120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35h-17.44v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35s5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zm283.98-176.29h-360.2c-24.2 0-43.84 19.59-43.9 43.8v360.4c.06 24.21 19.7 43.8 43.9 43.8h360.2c24.21 0 43.84-19.59 43.9-43.8v-360.4c-.06-24.21-19.7-43.8-43.9-43.8zm-249.9 259.19c0 18.81-11.61 47.31-48.36 47.25h-46.4v-165.46h47.38c35.44 0 47.36 28.46 47.37 47.28zm100.68-88.66h-53.28v38.42h32.57v29.57h-32.57v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69v-125.11c-.27-11.15 8.56-20.41 19.71-20.69h63.19zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58z"}))}a.defaultProps={viewBox:"0 0 448 512"},e.exports=a,a.default=a},1009:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("defs",{key:0},r.createElement("radialGradient",{id:"netlify-icon",cy:"0%",r:"100.11%",fx:"50%",fy:"0%",gradientTransform:"matrix(0 .9989 -1.152 0 .5 -.5)"},[r.createElement("stop",{offset:"0%",stopColor:"#20C6B7",key:0}),r.createElement("stop",{offset:"100%",stopColor:"#4D9ABF",key:1})])),r.createElement("path",{fill:"url(#netlify-icon)",d:"M28.589 14.135l-.014-.006c-.008-.003-.016-.006-.023-.013a.11.11 0 0 1-.028-.093l.773-4.726 3.625 3.626-3.77 1.604a.083.083 0 0 1-.033.006h-.015c-.005-.003-.01-.007-.02-.017a1.716 1.716 0 0 0-.495-.381zm5.258-.288l3.876 3.876c.805.806 1.208 1.208 1.355 1.674.022.069.04.138.054.209l-9.263-3.923a.728.728 0 0 0-.015-.006c-.037-.015-.08-.032-.08-.07 0-.038.044-.056.081-.071l.012-.005 3.98-1.684zm5.127 7.003c-.2.376-.59.766-1.25 1.427l-4.37 4.369-5.652-1.177-.03-.006c-.05-.008-.103-.017-.103-.062a1.706 1.706 0 0 0-.655-1.193c-.023-.023-.017-.059-.01-.092 0-.005 0-.01.002-.014l1.063-6.526.004-.022c.006-.05.015-.108.06-.108a1.73 1.73 0 0 0 1.16-.665c.009-.01.015-.021.027-.027.032-.015.07 0 .103.014l9.65 4.082zm-6.625 6.801l-7.186 7.186 1.23-7.56.002-.01c.001-.01.003-.02.006-.029.01-.024.036-.034.061-.044l.012-.005a1.85 1.85 0 0 0 .695-.517c.024-.028.053-.055.09-.06a.09.09 0 0 1 .029 0l5.06 1.04zm-8.707 8.707l-.81.81-8.955-12.942a.424.424 0 0 0-.01-.014c-.014-.019-.029-.038-.026-.06.001-.016.011-.03.022-.042l.01-.013c.027-.04.05-.08.075-.123l.02-.035.003-.003c.014-.024.027-.047.051-.06.021-.01.05-.006.073-.001l9.921 2.046a.164.164 0 0 1 .076.033c.013.013.016.027.019.043a1.757 1.757 0 0 0 1.028 1.175c.028.014.016.045.003.078a.238.238 0 0 0-.015.045c-.125.76-1.197 7.298-1.485 9.063zm-1.692 1.691c-.597.591-.949.904-1.347 1.03a2 2 0 0 1-1.206 0c-.466-.148-.869-.55-1.674-1.356L8.73 28.73l2.349-3.643c.011-.018.022-.034.04-.047.025-.018.061-.01.091 0a2.434 2.434 0 0 0 1.638-.083c.027-.01.054-.017.075.002a.19.19 0 0 1 .028.032L21.95 38.05zM7.863 27.863L5.8 25.8l4.074-1.738a.084.084 0 0 1 .033-.007c.034 0 .054.034.072.065a2.91 2.91 0 0 0 .13.184l.013.016c.012.017.004.034-.008.05l-2.25 3.493zm-2.976-2.976l-2.61-2.61c-.444-.444-.766-.766-.99-1.043l7.936 1.646a.84.84 0 0 0 .03.005c.049.008.103.017.103.063 0 .05-.059.073-.109.092l-.023.01-4.337 1.837zM.831 19.892a2 2 0 0 1 .09-.495c.148-.466.55-.868 1.356-1.674l3.34-3.34a2175.525 2175.525 0 0 0 4.626 6.687c.027.036.057.076.026.106-.146.161-.292.337-.395.528a.16.16 0 0 1-.05.062c-.013.008-.027.005-.042.002H9.78L.831 19.891zm5.68-6.403l4.491-4.491c.422.185 1.958.834 3.332 1.414 1.04.44 1.988.84 2.286.97.03.012.057.024.07.054.008.018.004.041 0 .06a2.003 2.003 0 0 0 .523 1.828c.03.03 0 .073-.026.11l-.014.021-4.56 7.063c-.012.02-.023.037-.043.05-.024.015-.058.008-.086.001a2.274 2.274 0 0 0-.543-.074c-.164 0-.342.03-.522.063h-.001c-.02.003-.038.007-.054-.005a.21.21 0 0 1-.045-.051l-4.808-7.013zm5.398-5.398l5.814-5.814c.805-.805 1.208-1.208 1.674-1.355a2 2 0 0 1 1.206 0c.466.147.869.55 1.674 1.355l1.26 1.26-4.135 6.404a.155.155 0 0 1-.041.048c-.025.017-.06.01-.09 0a2.097 2.097 0 0 0-1.92.37c-.027.028-.067.012-.101-.003-.54-.235-4.74-2.01-5.341-2.265zm12.506-3.676l3.818 3.818-.92 5.698v.015a.135.135 0 0 1-.008.038c-.01.02-.03.024-.05.03a1.83 1.83 0 0 0-.548.273.154.154 0 0 0-.02.017c-.011.012-.022.023-.04.025a.114.114 0 0 1-.043-.007l-5.818-2.472-.011-.005c-.037-.015-.081-.033-.081-.071a2.198 2.198 0 0 0-.31-.915c-.028-.046-.059-.094-.035-.141l4.066-6.303zm-3.932 8.606l5.454 2.31c.03.014.063.027.076.058a.106.106 0 0 1 0 .057c-.016.08-.03.171-.03.263v.153c0 .038-.039.054-.075.069l-.011.004c-.864.369-12.13 5.173-12.147 5.173-.017 0-.035 0-.052-.017-.03-.03 0-.072.027-.11a.76.76 0 0 0 .014-.02l4.482-6.94.008-.012c.026-.042.056-.089.104-.089l.045.007c.102.014.192.027.283.027.68 0 1.31-.331 1.69-.897a.16.16 0 0 1 .034-.04c.027-.02.067-.01.098.004zm-6.246 9.185l12.28-5.237s.018 0 .035.017c.067.067.124.112.179.154l.027.017c.025.014.05.03.052.056 0 .01 0 .016-.002.025L25.756 23.7l-.004.026c-.007.05-.014.107-.061.107a1.729 1.729 0 0 0-1.373.847l-.005.008c-.014.023-.027.045-.05.057-.021.01-.048.006-.07.001l-9.793-2.02c-.01-.002-.152-.519-.163-.52z",key:1})])}a.defaultProps={width:"20",height:"20",viewBox:"0 0 40 40"},e.exports=a,a.default=a},1010:function(e,t,n){},1011:function(e,t,n){},405:function(e,t,n){"use strict";n.r(t);var r=n(14),a=n.n(r),i=n(21),o=n.n(i),c=n(7),s=n.n(c),l=n(17),u=n.n(l),d=n(4),p=n.n(d),f=n(13),m=n.n(f),h=n(41),g=n.n(h),v=n(30),y=n.n(v),b=n(1),E=n.n(b),C=n(3),w=n.n(C),k=n(193),j=n(36),S=n(129),O=n.n(S),z=n(416),P=n(423),R=n(417),N=n(0),I=n.n(N),D=n(1143),L=n(360),x=n.n(L),A=n(454),T=n.n(A),U=n(37),M=n.n(U),G=n.p+"assets/images/empty-icon.png",F=n.p+"assets/images/empty-theme.png",W=n(549),_=n.n(W);n(985);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var V=function(e){m()(n,e);var t=B(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"renderImage",value:function(){var e=this.props,t=e.card,n=e.cardType,r=I.a.get(t,"image",G),a="icon";return"theme"===n&&(r=I.a.get(t,"images.screenshot",F),a="thumbnail"),"thumbnail"===a?w.a.createElement("div",{className:"card-image"},w.a.createElement("img",{width:"328px",height:"258px",className:"card-image-".concat(a),alt:t.title,src:r})):w.a.createElement("div",{className:"card-image"},w.a.createElement("img",{className:"card-image-".concat(a),alt:t.title,src:r}))}},{key:"renderDemo",value:function(){var e=this.props.card;return w.a.createElement("div",{className:"card-footer"},w.a.createElement("a",{className:"card-preview-button",href:e.demo,target:"_blank",rel:"noopener noreferrer",onClick:function(t){return Object(R.a)("Wizard Theme Card Live Preview Clicked",{theme:e.id},!1),t.stopPropagation(),!0}},w.a.createElement(_.a,null)," Live Preview"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cardType,r=t.card,a=t.selected,i=t.disabled,o=x()("card card-".concat(r.id),{selected:a,"disabled no-hover":i});return w.a.createElement("div",{className:o,onClick:function(){return!i&&e.props.handleClickCard(n,r)},"data-id":r.id,"data-tip":i,"data-for":i?r.id:null},this.renderImage(),w.a.createElement("div",{className:"card-content"},w.a.createElement("h2",{className:"card-title"},r.title),r.author&&w.a.createElement("div",{className:"card-author"},"Theme by ",w.a.createElement("span",null,r.author)),w.a.createElement("div",{className:"card-description"},w.a.createElement(T.a,{clamp:2},r.description))),r.demo&&this.renderDemo(),i&&w.a.createElement(D.a,{place:"top",type:"dark",effect:"solid",id:r.id},r.disabledReason.map((function(e,t){return w.a.createElement("span",{key:t},e,r.disabledReason.length-1===t?"":", ")}))))}}]),n}(C.Component);V.propTypes={card:M.a.shape({title:M.a.string,description:M.a.string,author:M.a.string,demo:M.a.string}),cardType:M.a.string.isRequired,selected:M.a.bool,disabled:M.a.bool};n(986);var q=function(e){var t=e.cards,n=e.cardType,r=e.selectedId,a=Object(C.useCallback)((function(t,n){Object(R.a)("Wizard Card Selected",{clickedCard:n.id,cardType:t},!1),e.onSelectCard(t,n)}),[]);return w.a.createElement("div",{className:"card-catalog"},function(e){return e.filter((function(e){return!0!==e.hidden})).sort((function(e,t){return e.weight-t.weight}))}(t).map((function(e){return w.a.createElement("div",{className:"card-holder",key:e.id},w.a.createElement(V,{card:e,cardType:n,selected:e.id===r,disabled:e.disabled,handleClickCard:a}))})))},H=(n(987),function(e){var t=e.pageName,n=e.pageSubtitle,r=e.alerts,a=void 0===r?[]:r;return w.a.createElement("div",{className:"wizard-header"},w.a.createElement("h1",null,t),w.a.createElement("p",null,n),a.length>0&&w.a.createElement(w.a.Fragment,null,a.map((function(e,t){return w.a.createElement("div",{className:"alert",key:t},e)}))))}),J=n(398),Z=n(988),Y=n.n(Z),Q=(n(989),function(e){return w.a.createElement("div",{className:"wizard-header-back"},w.a.createElement(J.a,{to:e.link,className:"wizard-header-back-link"},w.a.createElement(Y.a,null),w.a.createElement("span",null,e.text||"Choose a Stackbit Theme Instead")))});function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var $=function(e){m()(n,e);var t=K(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"onSelectCard",(function(t,n){var r,a,i={source:null==n||null===(r=n.data)||void 0===r?void 0:r.source,image:null==n||null===(a=n.images)||void 0===a?void 0:a.screenshot};return e.props.actionUpdateProjectLayer(t,n,i),"custom"===n.id?e.props.history.push("/edit/theme/custom"):e.props.history.push("/edit/summary")})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.themeCards,n=e.selectedId;return w.a.createElement("div",{className:"wizard"},n&&w.a.createElement(Q,{link:"/edit/summary",text:"Back to summary"}),w.a.createElement(H,{pageName:"Select a Theme",pageSubtitle:"Choose a theme and combine a static site generator and CMS into your own Jamstack. We create the site on Github & Netlify"}),w.a.createElement(q,{cards:t,cardType:"theme",selectedId:n,onSelectCard:this.onSelectCard}))}}]),n}(C.Component),X=Object(k.connect)((function(e){var t,n;return{selectedId:null===(t=e.wizard.project.wizard.theme)||void 0===t?void 0:t.id,themeCards:null===(n=e.wizard.cards)||void 0===n?void 0:n.theme}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})($),ee=n(490),te=n(451),ne=n.n(te),re=n(477),ae=n(439),ie=n(430),oe=n(434),ce=n(415),se=n(474),le=n.n(se),ue=(n(624),function(e){return e.success?w.a.createElement("div",{className:"theme-loader-result"},w.a.createElement("div",{className:"theme-loader-result-heading"},w.a.createElement(le.a,null),w.a.createElement("h3",{className:"success"},"Connected to repo."))):null}),de=n(990),pe=n.n(de),fe=function(e){var t=e.error;return t?w.a.createElement("div",{className:"theme-loader-result "},w.a.createElement("div",{className:"theme-loader-result-heading"},w.a.createElement(pe.a,null),w.a.createElement("h3",{className:"error"},t.message)),"importdata"===t.type&&w.a.createElement("div",{className:"theme-loader-result-body"},w.a.createElement("p",null,"If your theme works with an API-based CMS, such as Contentful or Sanity, the repo must contain an export file."),w.a.createElement("ul",null,w.a.createElement("li",null,"Review the"," ",w.a.createElement("a",{href:"https://www.stackbit.com/docs/stackbit-yaml/import/",target:"_blank"},"import documentation")))),"permissions"===t.type&&w.a.createElement("div",{className:"theme-loader-result-body"},w.a.createElement("p",null,"This repo either does not exist or you do not have permissions to access it."),w.a.createElement("h4",null,"If you are trying to access a private repo"),w.a.createElement("ul",null,w.a.createElement("li",null,"Connect your Github account - ",w.a.createElement("a",{onClick:ce.a},"Install Stackbit Github app")),w.a.createElement("li",null,"Once connected, try reloading the theme above."),w.a.createElement("li",null,"If you are trying to access a repo within an organization please also install the Stackbit Github app on that organization. You may have to send an installation request if you are not an admin."),w.a.createElement("li",null,'Once the Stackbit Github app is installed on the organization please ensure you are a member of that organization OR you are an "Outside Collaborator" with at least `read` permissions on the specific repo you are trying to load.'))),"unknown"===t.type&&w.a.createElement("div",null,w.a.createElement("p",null,t.messageBody))):null},me=n(991),he=n.n(me),ge=n(992),ve=n.n(ge);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Ce={REGULAR:{id:"regular",label:"Regular site"},MULTI:{id:"multiSite",label:"Multi-site"}},we=function(e){return"contentful"===e},ke=function(e){m()(r,e);var t,n=Ee(r);function r(){var e;s()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),E()(p()(e),"state",{isLoading:!1,isLoaded:!1,repoUrl:"",branch:null,siteType:Ce.REGULAR.id,hasRepoAccess:null,error:null,success:null}),E()(p()(e),"validateTheme",(function(){var t=e.props,n=t.project,r=t.initialCards,a=e.state,i=a.repoUrl,o=a.branch;return e.setState({hasRepoAccess:null,isLoading:!0,error:null,success:null}),e.props.onValidationChanged(!0),Object(R.a)("Wizard Custom Theme - Load Start",{repoUrl:i,branch:o,context:"custom theme page"}),Object(re.a)({project:n,repoUrl:i,repoBranch:o,forceValidate:!0,initializer:"Custom Theme Import"}).then((function(t){return we(t.analyzedConfig.cms.cmsName)?e.validateRepoAccess(i).then((function(e){return{validation:t,hasRepoAccess:e}})):Promise.resolve({validation:t,hasRepoAccess:null})})).then((function(t){var a=t.validation,o=t.hasRepoAccess;O.a.debug("Theme Validation",a);var c,s,l=be({},a);if((e.setState({branch:l.branch}),Object(R.a)("Wizard Custom Theme - Load Success",{repoUrl:l.source,branch:l.branch,context:"custom theme page"}),l.themeRequiresImportData)&&!(null===(c=l.themeConfig)||void 0===c||null===(s=c.import)||void 0===s?void 0:s.contentFile)){var u=new Error("no import data found");throw u.type="importdata",u}var d=r.jamstackthemes.find((function(e){return e.github===i}));return l.title=(null==d?void 0:d.title)||"Custom Theme",l.image=(null==d?void 0:d.image)||null,e.props.actionUpdateConnection("theme",{id:"custom",layer:"theme",connected:!0,valid:!0}),e.props.actionUpdateProjectLayer("theme",{id:"custom"},l),e.setState({hasRepoAccess:o,success:!0,error:null}),n})).catch((function(t){var r,a=Object(ee.serializeError)(t);O.a.debug("Custom Theme Load Error",a);var o=null==a||null===(r=a.response)||void 0===r?void 0:r.status,c=null==a?void 0:a.type,s={type:"unknown",message:"Error loading theme"};404===o&&(s.type="permissions",s.message="Stackbit can't access this repo"),"importdata"===c&&(s.type="importdata",s.message="Can't find any import data"),e.setState({hasRepoAccess:!1,success:null,error:s}),Object(R.a)("Wizard Custom Theme - Load Failure",{error:s.message,repoUrl:i,context:"custom theme page"},n),e.props.actionUpdateConnection("theme",{id:"custom",layer:"theme",connected:!1,valid:!1}),e.props.actionUpdateProjectLayer("theme",{id:"custom"},{})})).finally((function(){e.setState({isLoading:!1,isLoaded:!0}),e.props.onValidationChanged(!1)}))})),E()(p()(e),"onChangeBranch",(function(t){e.setState({branch:t,error:null,success:null},(function(){e.validateTheme()}))})),E()(p()(e),"onSiteTypeChange",(function(t){var n,r,a;Object(R.a)("Wizard Custom Theme Site Type Changed",{prevSiteType:e.state.siteType,siteType:t}),e.props.actionUpdateProjectLayer("theme",{id:"custom"},be(be({},(null===(n=e.props.project)||void 0===n||null===(r=n.wizard)||void 0===r||null===(a=r.theme)||void 0===a?void 0:a.settings)||{}),{},{multiSite:"multiSite"===t}))})),E()(p()(e),"onRepoChange",(function(t){var n=t.target.value.trim();e.setState({repoUrl:n}),I.a.isEmpty(n)&&e.setState({branch:null,error:null,success:null})})),E()(p()(e),"onRepoSubmit",(function(t){t.preventDefault(),e.setState({error:null,success:null},(function(){e.validateTheme()}))})),e}return u()(r,[{key:"componentDidMount",value:function(){O.a.debug("CustomThemeLoader Mounted");var e=this.props.project,t=I.a.get(e,"wizard.theme.settings.source",""),n=I.a.get(e,"wizard.theme.settings.branch");this.setState({repoUrl:t,branch:n,isLoaded:!I.a.isEmpty(status)})}},{key:"componentDidUpdate",value:function(e,t){var n,r,a,i,o,c,s,l,u,d,p,f,m,h,g,v=e.project,y=this.props.project,b=null==v||null===(n=v.wizard)||void 0===n||null===(r=n.theme)||void 0===r||null===(a=r.settings)||void 0===a?void 0:a.source,E=null==y||null===(i=y.wizard)||void 0===i||null===(o=i.theme)||void 0===o||null===(c=o.settings)||void 0===c?void 0:c.source,C=null==v||null===(s=v.wizard)||void 0===s||null===(l=s.theme)||void 0===l||null===(u=l.settings)||void 0===u?void 0:u.multiSite,w=null==y||null===(d=y.wizard)||void 0===d||null===(p=d.theme)||void 0===p||null===(f=p.settings)||void 0===f?void 0:f.multiSite;b!==E&&this.props.actionUpdateProjectLayer("theme",{id:"custom"},be(be({},(null===(m=this.props.project)||void 0===m||null===(h=m.wizard)||void 0===h||null===(g=h.theme)||void 0===g?void 0:g.settings)||{}),{},{multiSite:!1}));C!==w&&this.setState({siteType:w?Ce.MULTI.id:Ce.REGULAR.id})}},{key:"validateRepoAccess",value:(t=o()(a.a.mark((function e(t){var n,r,i,o,c,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.user,e.next=3,Object(ce.c)(n);case 3:return r=e.sent,i=n.connections.find((function(e){return"github-app"===e.type})),o=i.accessToken,c=Object(ce.b)(ne()(t)),s=c.owner,l=c.repo,e.abrupt("return",Object(ce.f)("".concat(s,"/").concat(l),r.username,o));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n,r,a,i,o=this,c=this.props.project,s=this.state,l=s.isLoading,u=s.error,d=s.success,p=s.repoUrl,f=s.branch,m=(null==c||null===(e=c.wizard)||void 0===e||null===(t=e.theme)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.branches)||[],h=Object.values(Ce);return C.createElement("div",{className:"theme-loader"},C.createElement("form",{className:"theme-loader-form",onSubmit:this.onRepoSubmit},C.createElement("div",{className:"theme-loader-form-icon"},C.createElement(he.a,null)),f&&C.createElement("div",{className:"theme-loader-form-branch"},C.createElement(ve.a,null),C.createElement(ae.a,{className:"branch-dropdown",direction:["top","center"]},C.createElement(ie.a,{className:"trigger"},C.createElement("a",null,f)),m.map((function(e){return C.createElement(oe.a,{key:e,className:"action",onClick:function(){o.onChangeBranch(e)}},e)})))),this.state.hasRepoAccess&&we(null==c||null===(r=c.wizard)||void 0===r||null===(a=r.cms)||void 0===a?void 0:a.id)&&C.createElement("div",{className:"theme-loader-form-site-type"},C.createElement(_.a,null),C.createElement(ae.a,{className:"branch-dropdown",direction:["top","center"]},C.createElement(ie.a,{className:"trigger"},null===(i=h.find((function(e){return e.id===o.state.siteType})))||void 0===i?void 0:i.label),h.map((function(e){var t=e.label;return C.createElement(oe.a,{key:t,className:"action",onClick:function(){o.onSiteTypeChange(h.find((function(e){return e.label===t})).id)}},t)})))),C.createElement("input",{type:"text",name:"repo",id:"repo",onChange:this.onRepoChange,disabled:l,className:"theme-loader-form-repourl",value:p,placeholder:"https://github.com/stackbit-themes/starter-nextjs"}),C.createElement("button",{type:"submit",disabled:I.a.isEmpty(p)||l,className:"action-button"},"Load Theme")),C.createElement("div",{className:"theme-loader-results"},l?C.createElement("div",{className:"theme-loader-result"},C.createElement("div",{className:"theme-loader-result-heading"},C.createElement("div",{className:"loader"}),C.createElement("h3",null,"Validating theme..."))):C.createElement(C.Fragment,null,C.createElement(fe,{error:u}),C.createElement(ue,{success:d}))))}}]),r}(C.Component),je=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project,initialCards:e.wizard.initialCards}}),{actionUpdateConnection:z.a.actionUpdateConnection,actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(ke);n(993);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Oe=function(e){m()(n,e);var t=Se(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={isValidating:!1},r}return u()(n,[{key:"render",value:function(){var e=this,t=this.props.themeValidated,n=!this.state.isValidating&&t;return w.a.createElement("div",{className:"wizard custom-theme-page"},w.a.createElement(Q,{link:"/edit/theme",text:"Choose a Stackbit Theme instead"}),w.a.createElement(H,{pageName:"Import Custom Theme"}),w.a.createElement("div",{className:"wizard-column"},w.a.createElement("p",null,"Paste the GitHub repo URL of a theme built using a static site generator, i.e. a Hugo, Jekyll, Gatsby theme, etc. To learn more about custom themes"," ",w.a.createElement("a",{href:"https://www.stackbit.com/docs/custom-themes/",target:"_blank",rel:"noopener noreferrer"},"read the developer documentation.")),w.a.createElement(je,{onValidationChanged:function(t){return e.setState({isValidating:t})}}),n&&w.a.createElement("div",{className:"button-container"},w.a.createElement(J.a,{className:"button-flat",to:"/edit/summary"},"Continue"))))}}]),n}(C.Component),ze=Object(k.connect)((function(e){var t,n;return{themeValidated:null===(t=e.wizard.project.wizard.theme)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.isValidated}}))(Oe);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Re=function(e){m()(n,e);var t=Pe(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"onSelectCard",(function(t,n){e.props.actionUpdateProjectLayer(t,n),e.props.history.push("/edit/summary")})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.ssgCards,n=e.selectedId;return w.a.createElement("div",{className:"wizard"},n&&w.a.createElement(Q,{link:"/edit/summary",text:"Back to summary"}),w.a.createElement(H,{pageName:"Select a Site Generator",pageSubtitle:""}),w.a.createElement(q,{cards:t,cardType:"ssg",selectedId:n,onSelectCard:this.onSelectCard}))}}]),n}(C.Component),Ne=Object(k.connect)((function(e){var t,n;return{selectedId:null===(t=e.wizard.project.wizard.ssg)||void 0===t?void 0:t.id,ssgCards:null===(n=e.wizard.cards)||void 0===n?void 0:n.ssg}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(Re);function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var De=function(e){m()(n,e);var t=Ie(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"onSelectCard",(function(t,n){e.props.actionUpdateProjectLayer(t,n),e.props.history.push("/edit/summary")})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.cmsCards,n=e.selectedId;return w.a.createElement("div",{className:"wizard"},n&&w.a.createElement(Q,{link:"/edit/summary",text:"Back to summary"}),w.a.createElement(H,{pageName:"Select a Headless CMS",pageSubtitle:""}),w.a.createElement(q,{cards:t,cardType:"cms",selectedId:n,onSelectCard:this.onSelectCard}))}}]),n}(C.Component),Le=Object(k.connect)((function(e){var t,n;return{selectedId:null===(t=e.wizard.project.wizard.cms)||void 0===t?void 0:t.id,cmsCards:null===(n=e.wizard.cards)||void 0===n?void 0:n.cms}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(De);function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Ae=function(e){m()(n,e);var t=xe(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"onSelectCard",(function(t,n){e.props.actionUpdateProjectLayer(t,n),e.props.history.push("/edit/summary")})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.deploymentCards,n=e.selectedId;return w.a.createElement("div",{className:"wizard"},n&&w.a.createElement(Q,{link:"/edit/summary",text:"Back to summary"}),w.a.createElement(H,{pageName:"Deployment Method",pageSubtitle:""}),w.a.createElement(q,{cards:t,cardType:"deployment",selectedId:n,onSelectCard:this.onSelectCard}))}}]),n}(C.Component),Te=Object(k.connect)((function(e){var t,n;return{selectedId:null===(t=e.wizard.project.wizard.deployment)||void 0===t?void 0:t.id,deploymentCards:null===(n=e.wizard.cards)||void 0===n?void 0:n.deployment}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(Ae),Ue=n(363),Me=n(26),Ge=n(574),Fe=n(575),We=n(576),_e=n(577),Be=n(578),Ve=(n(994),function(){return w.a.createElement("div",{className:"loading-animation"},w.a.createElement("img",{className:"themes-layer",src:Ge.a}),w.a.createElement("img",{className:"gen-layer",src:Fe.a}),w.a.createElement("img",{className:"cms-layer",src:We.a}),w.a.createElement("img",{className:"deployment-layer",src:_e.a}),w.a.createElement("img",{className:"cube-layer",src:Be.a}))});n(625);function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var He=function(e){m()(n,e);var t=qe(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={loading:!0,error:null},r}return u()(n,[{key:"componentDidMount",value:function(){this.pollProject()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.pollTimeout),this.pollTimeout=null}},{key:"getMinimalProject",value:function(e){var t={id:e.id,status:e.buildStatus};return Object.keys(e.wizard).forEach((function(n){var r=e.wizard[n];t[n]={name:r.title,url:I.a.get(e,"deploymentData.".concat(r.id,".url"))}})),t}},{key:"pollProject",value:function(){var e=this,t=this.props.project;this.pollTimeout=setTimeout((function(){Object(Me.l)(t.id).then((function(t){if(window.opener&&window.opener.postMessage(JSON.stringify({type:"project-update",project:e.getMinimalProject(t)}),"*"),"live"===t.buildStatus)return Ue.b.push("/dashboard#project-deployed");e.pollProject()}))}),2e3)}},{key:"renderStatusSubtitle",value:function(){var e=this.props.project;return"codesandbox"===I.a.get(e,"wizard.settings.referrer")&&window.opener?w.a.createElement("p",null,"You'll be redirected back to CodeSandbox when we're done"):null}},{key:"render",value:function(){return this.state.loading?w.a.createElement("div",{className:"wizard finish-page"},w.a.createElement("div",{className:"deploy-section"},w.a.createElement(Ve,null),w.a.createElement("h1",null,"Creating your project..."),w.a.createElement("p",null,"This should take a minute."),this.renderStatusSubtitle())):this.state.error?w.a.createElement("div",{className:"wizard finish-page"},this.state.error.message||this.state.error,w.a.createElement("p",null,JSON.stringify(this.state.error.errors))):w.a.createElement("div",{className:"wizard finish-page"},"Done")}}]),n}(C.Component),Je=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project}}))(He),Ze=n(469);function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Qe=function(e){m()(n,e);var t=Ye(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"tryAgain",(function(){r.props.actionResetWizard(),r.setState({submitting:!0}),setTimeout((function(){window.location.reload()}),2e3)})),r.state={submitting:!1},r}return u()(n,[{key:"render",value:function(){return w.a.createElement("div",{className:"wizard"},w.a.createElement(H,{pageName:"Oops! Something went wrong.",pageSubtitle:"There appears to be an error creating a new project, please try reloading the page or navigating to another section. Weâ€™re very sorry for this inconvenience."}),w.a.createElement("div",{className:"wizard-center"},w.a.createElement(Ze.a,{text:"Try Again",disabled:this.state.submitting,submitting:this.state.submitting,handleClick:this.tryAgain}),w.a.createElement("div",{style:{marginTop:"10px"}},w.a.createElement(J.a,{to:"/dashboard",href:"/dashboard"},"Return to dashboard"))))}}]),n}(C.Component),Ke=Object(k.connect)((function(e){return{user:e.global.user}}),{actionResetWizard:z.a.actionResetWizard})(Qe),$e=n(361),Xe=function(){return w.a.createElement("div",{className:"page wizard-loading-page"},w.a.createElement($e.a,null))},et=n(414),tt=n(15),nt=n(5),rt=n(59),at=n(82);function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowConnectionOnly,n=void 0!==t&&t,r=rt.stringify({allowConnectionOnly:n,initialReferrer:JSON.stringify(at.a.getInitialReferrer())});return Object(et.a)("".concat(tt.a.api.base_url,"/auth/devto?").concat(r))}function ot(e){return Object(nt.a)("/auth/devto/my")}var ct=n(70),st=n(435),lt=n(413),ut=n(556),dt=n.n(ut);n(995);function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ft=1,mt=2,ht=3,gt=4,vt=[mt,ht],yt=function(e){m()(n,e);var t=pt(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"onConnect",(function(e){return e.preventDefault(),Object(R.a)("Wizard Integration Connect button clicked",{integration:r.props.integrationId},!1),r.setState({checkingAuth:!0}),r.props.onConnect().then((function(){return r.checkConnection().then((function(e){return e}))})).catch((function(){r.setState({checkingAuth:!1})}))})),E()(p()(r),"onDisconnect",(function(e){return e.preventDefault(),Object(R.a)("Wizard Integration Disconnect button clicked",{integration:r.props.integrationId},!1),r.setState({checkingAuth:!0}),r.props.onDisconnect().then((function(){return r.checkConnection().then((function(e){return e}))})).catch((function(){r.setState({checkingAuth:!1})}))})),E()(p()(r),"updateSettings",(function(e){r.setState({settingsStatus:e})})),E()(p()(r),"changeClicked",(function(){Object(R.a)("Wizard Summary Card Change Clicked",{},!1)})),E()(p()(r),"renderConnectButton",(function(){var e=r.state,t=e.checkingAuth,n=e.authenticated,a=e.settingsStatus;return t||a===ft||n?null:w.a.createElement("div",{className:"integration-connect"},w.a.createElement("button",{className:"button-flat button-flat-small button-flat-fullwidth",onClick:function(e){return r.onConnect(e)}},"CONNECT"))})),r.state={checkingAuth:null,authenticated:null,settingsStatus:e.integrationSettings?ft:mt},r}return u()(n,[{key:"componentDidMount",value:function(){this.checkConnection()}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.user)!==JSON.stringify(e.user)&&this.checkConnection();var n=vt.includes(this.state.settingsStatus);this.state.authenticated!==t.authenticated&&this.props.updateConnection(this.props.layer,{id:this.props.integrationId,layer:this.props.layer,connected:this.state.authenticated,valid:this.state.authenticated&&n}),this.state.settingsStatus!==t.settingsStatus&&this.props.updateConnection(this.props.layer,{id:this.props.integrationId,layer:this.props.layer,connected:this.state.authenticated,valid:this.state.authenticated&&n})}},{key:"checkConnection",value:function(){var e=this;return this.setState({checkingAuth:!0}),this.props.checkConnection().then((function(t){return e.setState({checkingAuth:!1,authenticated:!!t}),Object(R.a)("Wizard Integration Connect ".concat(t?"Success":"Failed"),{integration:e.props.integrationId},!1),t})).catch((function(){e.setState({checkingAuth:!1,authenticated:!1})}))}},{key:"renderConnectionStatus",value:function(){var e=this.state,t=e.checkingAuth,n=e.authenticated,r=e.settingsStatus;if(t||r===ft)return w.a.createElement("div",{className:"integration-panel"},w.a.createElement($e.a,null));if(n){var a,i,o;switch(r){case ht:a="Attention",i="exclamation-circle",o="warning";break;case gt:a="Unsuccessful",i="times-circle",o="danger";break;case mt:default:a="Connected",i="check-circle",o="success"}return w.a.createElement("div",{className:"integration-panel"},w.a.createElement("h2",{key:"message"},w.a.createElement(st.a,{icon:i,className:"has-text-".concat(o)})," ",w.a.createElement("span",{className:o},a)),this.state.authenticated&&this.props.onConfigure?w.a.createElement("a",{onClick:this.props.onConfigure,className:"panel-item",key:"configure"},w.a.createElement(st.a,{icon:"wrench"})," Configure"):null,this.state.authenticated&&this.props.onDisconnect?w.a.createElement("a",{onClick:this.onDisconnect,className:"panel-item",key:"disconnect"},w.a.createElement(st.a,{icon:"plug"})," Disconnect"):null,this.state.authenticated&&this.props.onReconnect?w.a.createElement("a",{onClick:this.onConnect,className:"panel-item",key:"reconnect"},w.a.createElement(st.a,{icon:"plug"})," Reconnect"):null)}return null}},{key:"render",value:function(){var e=this.state.settingsStatus,t=this.props,n=t.integrationId,r=t.utilityLink,a=t.showConnectionInfo,i=t.showConnectButton,o=t.showConnectionStatus,c=t.children,s=t.learnMoreLink,l=this.props.integrationSettings||null,u=x()("integration-card integration-card-".concat(n),{"extra-large":this.props.requireTos,"not-connected":!this.state.authenticated});return w.a.createElement("div",{className:"wizard-integration"},w.a.createElement("div",{className:u},w.a.createElement("div",{className:"integration-image"},w.a.createElement("img",{src:this.props.logo})),w.a.createElement("div",{className:"integration-details"},w.a.createElement("div",{className:"integration-description"},w.a.createElement(T.a,{clamp:2},this.props.blurb)),s&&w.a.createElement(w.a.Fragment,null,w.a.createElement(lt.a,{to:s,target:"_blank",className:"integration-learn-more",onClick:this.props.onLearnMoreClick},"Learn More")),r&&w.a.createElement(J.a,{className:"integration-change-link",onClick:this.changeClicked,to:r},w.a.createElement(dt.a,null)," Change")),c,i&&this.props.onConnect&&this.renderConnectButton(),o&&this.renderConnectionStatus(),a&&this.props.connectionInfo&&this.props.connectionInfo()),l&&w.a.createElement(l,{user:this.props.user,project:this.props.project,updateSettings:this.updateSettings,settingsStatus:e,updateProjectCard:this.props.updateProjectCard,authenticated:this.state.authenticated}))}}]),n}(C.Component);function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Et=function(e){m()(n,e);var t=bt(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkScopes",(function(){return ot(e.props.user).then((function(e){return!I.a.isEmpty(e)})).catch((function(e){return!1}))})),E()(p()(e),"onConnect",(function(){return it({allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.description,r=e.image;return w.a.createElement(yt,{integrationId:"devto",layer:"cms",name:t,logo:r,blurb:n,learnMoreLink:this.learnMoreLink,utilityLink:this.props.utilityLink,showConnectButton:!0,showConnectionStatus:!1,onConnect:this.onConnect,checkConnection:this.checkScopes,project:this.props.project,user:this.props.user,updateProjectCard:this.props.updateProjectCard,updateConnection:this.props.updateConnection})}}]),n}(C.Component),Ct=n(420);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var kt=function(e){m()(n,e);var t=wt(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"checkScopes",(function(){return Object(Ct.c)(r.props.user).then((function(e){return r.setState({connectionInfo:{username:e.slug,email:e.email}}),!!e})).catch((function(e){return!1}))})),E()(p()(r),"onNetlify",(function(){return Object(Ct.e)(null,{allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),r.state={connectionInfo:null},r}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"netlify",layer:"deployment",name:t,logo:n,blurb:r,utilityLink:this.props.utilityLink,showConnectButton:!1,showConnectionStatus:!1,connectionInfo:this.state.connectionInfo,onConnect:this.onNetlify,onReconnect:this.onNetlify,checkConnection:this.checkScopes,project:this.props.project,user:this.props.user,updateProjectCard:this.props.updateProjectCard,updateConnection:this.props.updateConnection})}}]),n}(C.Component),jt=n(20),St=n.n(jt),Ot=n(11);function zt(e,t){var n=t.token,r=t.params,a=t.method,i=void 0===a?"get":a;return St()({method:i,url:e.toString(),data:r,headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data})).catch((function(e){var t=e.response||e;throw Ot.a.error("Azure Api Fetch Error",{error:t}),e}))}function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2020-10-01",n=new URL(e,tt.a.azure.resourceManagementBaseUrl);n.searchParams.set("api-version",t);for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return zt.apply(void 0,[n].concat(a))}function Rt(e){var t;return(null!==(t=null==e?void 0:e.connections)&&void 0!==t?t:[]).find((function(e){return"azure"===e.type}))}function Nt(e){var t=Rt(e);return t?Pt("/subscriptions","2020-10-01",{token:t.accessToken}):Promise.reject()}function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowConnectionOnly,r=void 0===n||n,a=t.tenantIdOrName,i=rt.stringify({tosVersion:e,allowConnectionOnly:r,initialReferrer:JSON.stringify(at.a.getInitialReferrer()),tenantIdOrName:a,needParsing:!0});return Object(et.a)("".concat(tt.a.api.base_url,"/auth/azure?").concat(i))}function Dt(e,t){var n=Rt(e);return n?Pt("/subscriptions/".concat(t,"/resourceGroups"),"2020-10-01",{token:n.accessToken}):Promise.reject()}var Lt=n(9),xt=function(e){var t=e.alertColor;return w.a.createElement("div",{className:"integration-settings ".concat(t||"")},w.a.createElement($e.a,null))};function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Tt=function(e){m()(n,e);var t=At(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"state",{loading:!1,subscriptions:null,selectedSubscriptionId:null,validationAlert:null,alertColor:null,errorMessage:null}),E()(p()(e),"handleChange",(function(t){var n=e.props,r=(n.project,n.user,t.target.value);Object(R.a)("Azure Integration Settings Select New Subscription",{},!1),e.setState({selectedSubscriptionId:r},(function(){e.fetchStaticSites()}))})),E()(p()(e),"fetchStaticSites",(function(){var t=e.getSelectedSubscription();return e.setState({loading:!0}),Dt(e.props.user,t).then((function(t){var n=null==t?void 0:t.value,r=I.a.filter(n,{type:"Microsoft.Web/staticSites"}).length;return r>=10?(Object(R.a)("Azure Integration Settings No Subscription With Available Free Space",{staticWebAppsCount:r},!1),e.setState({validationAlert:"MaxSitesNumber",alertColor:"danger",errorMessage:"Whoops! This subscription is full. Select another or create a new one on Azure."}),e.props.updateSettings(gt),Promise.resolve()):(e.setState({validationAlert:null,alertColor:null,errorMessage:null}),e.props.updateSettings(mt),Promise.resolve())})).catch((function(){e.props.updateSettings(gt)})).finally((function(){e.setState({loading:!1}),e.updateProjectSubscriptionId()}))})),e}return u()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=null===(e=this.props.project.wizard.deployment.settings)||void 0===e?void 0:e.subscriptionId;n?this.setState({selectedSubscriptionId:n},(function(){t.fetchSubscriptions()})):this.fetchSubscriptions()}},{key:"componentDidUpdate",value:function(e){I.a.isEqual(this.props.user,e.user)||this.state.subscriptions||this.fetchSubscriptions()}},{key:"fetchSubscriptions",value:function(){var e=this,t=this.props;t.project,t.user;return this.setState({loading:!0}),Nt(this.props.user).then((function(t){if(t.count.value){var n=I.a.filter(t.value||[],{state:"Enabled"});return new Promise((function(t,r){e.setState({subscriptions:n},(function(){e.fetchStaticSites().then(t).catch(r)}))}))}return e.setState({subscriptions:[]}),e.props.updateSettings(gt),Promise.resolve()})).catch((function(t){Object(R.a)("Azure Integration Settings Failed Fetching Management Api",{error:t},!1),e.setState({subscriptions:null,selectedSubscriptionId:null,validationAlert:"ConnectionFailed",alertColor:"danger",errorMessage:t&&t.message?t.message:"Can't connect to Azure"}),e.props.updateSettings(gt)})).finally((function(){e.setState({loading:!1})}))}},{key:"updateProjectSubscriptionId",value:function(){this.props.updateProjectCard({subscriptionId:this.state.selectedSubscriptionId})}},{key:"getSelectedSubscription",value:function(){var e=this.state,t=e.subscriptions,n=e.selectedSubscriptionId,r=n?I.a.find(t,{subscriptionId:n}):I.a.first(t);return null==r?void 0:r.subscriptionId}},{key:"getAlert",value:function(){var e=this.state,t=e.validationAlert,n=e.errorMessage;return"MaxSitesNumber"===t?w.a.createElement(w.a.Fragment,null,w.a.createElement("p",{className:"integration-description"},n),w.a.createElement("div",{className:"integration-settings-actions"},w.a.createElement(lt.a,{to:"https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade",className:"action-button button-error",onClick:function(){Object(R.a)("Azure Integration Settings Solve On Azure Clicked",{},!1)}},"Go to Azure"))):null}},{key:"render",value:function(){var e=this.state,t=e.subscriptions,n=e.loading,r=e.alertColor,a=e.selectedSubscriptionId,i=Rt(this.props.user);if(!t||!i)return null;var o=this.getAlert();return n?w.a.createElement(xt,{alertColor:r}):t.length?w.a.createElement("div",{className:"integration-settings ".concat(r||"")},w.a.createElement("div",{className:"integration-contentful-org"},w.a.createElement("span",{className:"select-label"},"Select subscription"),w.a.createElement("span",{className:"select is-rounded"},w.a.createElement("select",{value:this.getSelectedSubscription(t,a),onChange:this.handleChange},t.map((function(e){return w.a.createElement("option",{key:e.subscriptionId,value:e.subscriptionId},e.displayName)}))))),o):void 0}}]),n}(C.Component);function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Mt=function(e){m()(n,e);var t=Ut(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"state",{managedResourceGroupId:"",subscriptionId:"",loading:!1,validationAlert:null,alertColor:null,errorMessage:null}),E()(p()(r),"checkAccessToManagedResourceGroup",(function(){var e,t=r.props,n=t.user,a=t.authenticated,i=r.state.managedResourceGroupId,o=null===(e=r.inputRef.current)||void 0===e?void 0:e.value;return i&&o?(r.setState({loading:!0}),Nt(n).then((function(e){return r.findResourceOnSubscriptions(n,e)})).finally((function(){r.setState({loading:!1})}))):(r.props.updateSettings(gt),a&&r.setState({validationAlert:"ResourceGroupEmpty",alertColor:"danger",errorMessage:"No Managed Resource Group ID defined. Please, add Managed Resource Group ID and try again."}),Promise.resolve())})),E()(p()(r),"handleManagedResourceGroupIdChange",(function(e){var t=e.currentTarget.value;r.setState({managedResourceGroupId:t,connectionInfoMessage:t?"":r.state.connectionInfoMessage})})),r.inputRef=Object(C.createRef)(),r}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n=this;this.setState({managedResourceGroupId:null!==(e=null===(t=this.props.project.wizard.deployment.settings)||void 0===t?void 0:t.managedResourceGroupId)&&void 0!==e?e:""},(function(){n.checkAccessToManagedResourceGroup()}))}},{key:"componentDidUpdate",value:function(e){!e.authenticated&&this.props.authenticated&&this.checkAccessToManagedResourceGroup()}},{key:"findResourceOnSubscriptions",value:function(e,t){var n=this,r=(null==t?void 0:t.value)||[],a=!1;return Promise.all(r.map((function(t){var r=t.subscriptionId;return Dt(e,r).then((function(e){var t=(e.value||[]).find((function(e){return e.id.includes(n.state.managedResourceGroupId)}));return t?new Promise((function(e){a=t,n.setState({subscriptionId:r},e)})):Promise.resolve()}))}))).then((function(){a?(n.setState({validationAlert:null,alertColor:null,errorMessage:null}),n.props.updateProjectCard({managedResourceGroupId:n.state.managedResourceGroupId,subscriptionId:n.state.subscriptionId}),n.props.updateSettings(mt)):(n.setState({validationAlert:"SubscriptionNotAccessible",alertColor:"danger",errorMessage:"No access detected. Please update Tenant ID or Managed Resource Group ID and try again."}),n.props.updateSettings(gt))})).catch((function(){n.setState({validationAlert:"Error",alertColor:"danger",errorMessage:"Error searching subscription for resource"}),n.props.updateSettings(gt)}))}},{key:"getAlert",value:function(){var e=this,t=this.props,n=(t.project,t.user,this.state),r=n.validationAlert,a=n.errorMessage;return["SubscriptionNotAccessible","ResourceGroupEmpty","Error"].includes(r)?w.a.createElement(w.a.Fragment,null,w.a.createElement("p",{className:"integration-description"},a),w.a.createElement("div",{className:"integration-settings-actions"},w.a.createElement(lt.a,{className:"action-button button-error",onClick:function(){Object(R.a)("Wizard Azure Integration Marketplace Settings Try Again Clicked",{},!1),e.checkAccessToManagedResourceGroup()}},"Try Again"))):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.alertColor,a=this.getAlert();return n?w.a.createElement(xt,{alertColor:r}):w.a.createElement("div",{className:"integration-settings ".concat(r||"")},w.a.createElement("div",{className:"input-group"},w.a.createElement("label",{htmlFor:"managedResourceGroupId",className:"label"},"Enter Managed Resource Group ID"," ",w.a.createElement(lt.a,{className:"button-link",to:new URL("/developer-guides/integrations/azure",tt.a.docsUrl).toString(),onClick:function(){return Object(R.a)("Wizard Azure Integration Marketplace Managed Resource Group Id Learn More Clicked",{},!1)}},"Learn more")),w.a.createElement("input",{ref:this.inputRef,autoComplete:"off",name:"managedResourceGroupId",placeholder:"Managed Resource Group Id",className:"input-text",value:this.state.managedResourceGroupId,onChange:this.handleManagedResourceGroupIdChange,onBlur:this.checkAccessToManagedResourceGroup,onKeyUp:function(t){13===t.keyCode&&e.checkAccessToManagedResourceGroup()}})),a)}}]),n}(C.Component);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var _t=function(e){m()(n,e);var t=Wt(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"state",{connectionInfoMessage:"",tenantIdOrName:"",managedResourceGroupId:""}),E()(p()(e),"checkConnection",(function(){return Nt(e.props.user).then((function(t){return t.count.value?(e.setState({connectionInfoMessage:""}),!e.props.checkConnection||e.props.checkConnection()):(e.setState({connectionInfoMessage:"User doesn't have active subscriptions. Please, connect another user or create new Azure subscription."}),!1)})).catch((function(){return!1}))})),E()(p()(e),"updateSettings",(function(t){var n,r=e.props,a=r.project,i=r.updateProjectCard,o=(null===(n=a.wizard)||void 0===n?void 0:n.deployment)||{};i("deployment",o,Ft(Ft({},o.settings||{}),t))})),E()(p()(e),"onLogin",(function(){return e.state.tenantIdOrName?(e.setState({connectionInfoMessage:""}),It(null,{allowConnectionOnly:!0,tenantIdOrName:e.state.tenantIdOrName}).then(ct.a.refreshAuth)):(e.setState({connectionInfoMessage:"Tenant ID has to be specified."}),Promise.reject())})),E()(p()(e),"getConnectionInfoMessage",(function(){return e.state.connectionInfoMessage||e.props.connectionInfoMessage})),E()(p()(e),"connectionInfo",(function(){return w.a.createElement("div",{className:"integration-connection-info"},w.a.createElement("p",null,e.getConnectionInfoMessage()))})),E()(p()(e),"handleTenantChange",(function(t){e.setState({tenantIdOrName:t.currentTarget.value,connectionInfoMessage:""})})),e}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n=Rt(this.props.user),r=null!==(e=null==n||null===(t=n.settings)||void 0===t?void 0:t.tenantIdOrName)&&void 0!==e?e:"";this.setState({tenantIdOrName:r})}},{key:"render",value:function(){var e,t=this.props,n=t.project,r=t.user,a=t.renderInputGroupChild,i=this.props.card,o=i.title,c=i.image,s=i.description,l=null===(e=n.wizard.deployment.settings)||void 0===e?void 0:e.marketplaceReferrer;return w.a.createElement(yt,{integrationId:"azure",layer:"deployment",name:o,logo:c,blurb:s,updateConnection:this.props.updateConnection,showConnectionInfo:this.getConnectionInfoMessage(),connectionInfo:this.connectionInfo,onConnect:this.onLogin,onReconnect:this.onLogin,integrationSettings:l?Mt:Tt,checkConnection:this.checkConnection,updateProjectCard:this.updateSettings,utilityLink:this.props.utilityLink,showConnectButton:!0,showConnectionStatus:!1,project:this.props.project,user:this.props.user},w.a.createElement("div",{className:"integration-panel"},w.a.createElement("div",{className:"input-group"},w.a.createElement("label",{htmlFor:"tenantIdOrName",className:"label"},"Enter Tenant ID"," ",w.a.createElement(lt.a,{className:"button-link",to:new URL("/developer-guides/integrations/azure/",tt.a.docsUrl).toString(),onClick:function(){return Object(Lt.a)("Wizard Azure Tenant Id Learn More Clicked",{projectId:n.id,userId:r.id})}},"Learn more")),w.a.createElement("input",{autoComplete:"off",name:"tenantIdOrName",placeholder:"Tenant Id",className:"input-text",value:this.state.tenantIdOrName,onChange:this.handleTenantChange}),a&&a())))}}]),n}(C.Component);function Bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowConnectionOnly,n=void 0!==t&&t,r=rt.stringify({allowConnectionOnly:n,initialReferrer:JSON.stringify(at.a.getInitialReferrer())});return Object(et.a)("".concat(tt.a.api.base_url,"/auth/digitalocean?").concat(r))}function Vt(e){var t,n,r,a,i,o,c,s=(null!==(t=null==e?void 0:e.connections)&&void 0!==t?t:[]).find((function(e){return"digitalocean"===e.type}));return s?(n="https://api.digitalocean.com/v2/apps",r={token:s.accessToken},a=r.token,i=r.params,o=r.method,c=void 0===o?"get":o,St()({method:c,url:n,data:i,headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data})).catch((function(e){var t=e.response||e;throw Ot.a.error("DigitalOcean Api Fetch Error",{error:t}),e}))):Promise.reject()}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Ht=function(e){m()(n,e);var t=qt(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"learnMoreLink",new URL("/developer-guides/integrations/digital-ocean",tt.a.docsUrl).toString()),E()(p()(e),"checkScopes",(function(){return Vt(e.props.user).then((function(){return!0})).catch((function(){return!1}))})),E()(p()(e),"onConnect",(function(){return Bt({allowConnectionOnly:!0}).then(ct.a.refreshAuth)})),E()(p()(e),"onLearnMoreClick",(function(){Object(R.a)("Studio DigitalOceanIntegration Learn More Clicked")})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"digitalocean",layer:"deployment",name:t,logo:n,blurb:r,learnMoreLink:this.learnMoreLink,utilityLink:this.props.utilityLink,showConnectButton:!0,showConnectionStatus:!1,onConnect:this.onConnect,checkConnection:this.checkScopes,project:this.props.project,user:this.props.user,updateProjectCard:this.props.updateProjectCard,updateConnection:this.props.updateConnection})}}]),n}(C.Component),Jt=n(442),Zt=n(46),Yt=n.n(Zt),Qt=n(428),Kt=function(e){var t=e.CMStype,n=e.maxCount,r=e.currentCount,a="You have reached the maximum number of content models available for your ".concat(t," account."),i=r&&n?"\n                The selected theme has ".concat(r," content models\n                while your ").concat(t," account allows maximum of ").concat(n," content models.\n                Please consider switching to a different CMS, picking another theme, or upgrading your account.\n            "):a;return w.a.createElement("p",{className:"integration-description"},i)};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var tn=function(e){m()(n,e);var t=en(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={loading:!1,orgs:null,orgId:null,validationAlert:null,alertColor:null,errorMessage:null},r.handleChange=r.handleChange.bind(p()(r)),r.fetchOrgsAndUpdate=r.fetchOrgsAndUpdate.bind(p()(r)),r}return u()(n,[{key:"componentDidMount",value:function(){this.state.orgs||this.state.loading||this.fetchOrgsAndUpdate()}},{key:"componentDidUpdate",value:function(e,t,n){JSON.stringify(this.props.user)===JSON.stringify(e.user)||this.state.orgs||this.fetchOrgsAndUpdate()}},{key:"fetchOrgsAndUpdate",value:function(){var e=this,t=this.props,n=t.project,r=t.user;return this.setState({loading:!0}),Promise.all([Object(Jt.a)(r,n),Object(Qt.d)(n)]).then((function(t){var r=Yt()(t,2),a=r[0],i=r[1];if(!a)return e.setState({orgs:!1,orgId:null,loading:!1}),void e.props.updateSettings(gt);var o=a.length?a[0].sys.id:null;I.a.find(a,{sys:{id:I.a.get(n,"wizard.cms.settings.orgId")}})&&(o=I.a.get(n,"wizard.cms.settings.orgId")),e.setState({orgs:a||!1,orgId:o,loading:!1,modelsCount:i}),e.updateProjectWithCMSOrgId(o)})).catch((function(t){Object(R.a)("Contentful Integration: Failed fetching orgs, old account pricing type",{error:t}),e.setState({orgs:null,orgId:null,loading:!1,validationAlert:"ConnectionFailed",alertColor:"danger",errorMessage:t&&t.message?t.message:"Cannot connect to Contentful"}),e.props.updateSettings(gt)}))}},{key:"updateProjectWithCMSOrgId",value:function(e){if(e){var t,n=this.state.modelsCount,r=this.props,a=r.project,i=(r.user,{orgId:e,validationAlert:null,alertColor:null,errorMessage:null}),o=I.a.find(this.state.orgs,{sys:{id:e}}),c=I.a.get(a,"wizard.theme.id")&&(I.a.isNumber(n)?n:null),s=o.contentTypesFreeMax&&c>o.contentTypesFreeMax;O.a.debug("modelsCount ".concat(c," > ").concat(o.contentTypesFreeMax," - over limit? ").concat(s)),Object(Jt.f)(o)?(i.validationAlert="PaidPlan",i.alertColor="warning",t=ht):s?(i.validationAlert="NoContentTypes",i.alertColor="danger",t=gt):Object(Jt.e)(o)?t=mt:(t=gt,i.validationAlert="NoFreeSpace",i.alertColor="danger",Object(R.a)("Contentful: No org with available free space",{})),this.setState(i),this.props.updateSettings(t),I.a.get(a,"wizard.cms.settings.orgId")!==e&&this.props.updateProjectCard("cms",I.a.get(a,"wizard.cms"),Xt(Xt({},I.a.get(a,"wizard.cms.settings")),{},{orgId:e}))}}},{key:"handleChange",value:function(e){this.updateProjectWithCMSOrgId(e.target.value)}},{key:"getAlert",value:function(){if("NoFreeSpace"===this.state.validationAlert)return I.a.find(this.state.orgs,{sys:{id:this.state.orgId}})?w.a.createElement(w.a.Fragment,null,w.a.createElement("p",{className:"integration-description"},"Selected organization on Contentful is out of available space."),w.a.createElement("div",{className:"integration-settings-actions"},w.a.createElement("a",{href:"https://app.contentful.com/",className:"action-button button-error",target:"_blank",rel:"noopener noreferrer"},"Solve on Contentful"),w.a.createElement("button",{type:"button",className:"action-button button-error",onClick:this.fetchOrgsAndUpdate},"Retry"))):null;if("PaidPlan"===this.state.validationAlert)return I.a.find(this.state.orgs,{sys:{id:this.state.orgId}})?w.a.createElement(w.a.Fragment,null,w.a.createElement("p",{className:"integration-description"},"A new paid space will be created and automatically billed to your Contentful account"),w.a.createElement("div",{className:"integration-settings-actions"},w.a.createElement("a",{href:"https://app.contentful.com/",className:"action-button button-warning",target:"_blank",rel:"noopener noreferrer"},"Go to Contentful"))):null;if("ConnectionFailed"===this.state.validationAlert){var e=this.state.errorMessage;return w.a.createElement("p",{className:"integration-description"},e)}if("NoContentTypes"===this.state.validationAlert){var t={CMStype:"Contentful",maxCount:I.a.find(this.state.orgs,{sys:{id:this.state.orgId}}).contentTypesFreeMax,currentCount:this.state.modelsCount};return w.a.createElement(w.a.Fragment,null,w.a.createElement(Kt,t),w.a.createElement("div",{className:"integration-settings-actions"},w.a.createElement("a",{href:"https://app.contentful.com/",className:"action-button button-error",target:"_blank",rel:"noopener noreferrer"},"Upgrade Plan"),w.a.createElement("button",{type:"button",className:"action-button button-error",onClick:this.fetchOrgsAndUpdate},"Retry")))}return null}},{key:"render",value:function(){var e=this.state,t=e.orgs,n=e.loading,r=e.alertColor,a=e.orgId,i=this.props.user;if(!i||!i.connections||!i.connections.find((function(e){return"contentful"===e.type})))return null;var o=this.getAlert();return n?w.a.createElement("div",{className:"integration-settings ".concat(r||"")},w.a.createElement($e.a,null)):t?w.a.createElement("div",{className:"integration-settings ".concat(r||"")},w.a.createElement("div",{className:"integration-contentful-org"},w.a.createElement("span",{className:"select-label"},"Contentful Organization:"),w.a.createElement("span",{className:"select is-rounded"},w.a.createElement("select",{value:a,onChange:this.handleChange},t.map((function(e){return w.a.createElement("option",{key:e.sys.id,value:e.sys.id},e.name)}))))),o):o?w.a.createElement("div",{className:"integration-settings ".concat(r||"")},o):null}}]),n}(C.Component);function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var rn=function(e){m()(n,e);var t=nn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkScopes",(function(){return Object(Jt.d)(e.props.user).then((function(e){var t=I.a.get(e,"items[0].scopes");return t&&-1!==t.indexOf("content_management_manage")})).catch((function(e){return!1}))})),E()(p()(e),"onContentful",(function(){return Object(Jt.g)(null,{allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"contentful",layer:"cms",name:t,logo:n,blurb:r,utilityLink:this.props.utilityLink,showConnectButton:!0,showConnectionStatus:!1,project:this.props.project,user:this.props.user,onConnect:this.onContentful,checkConnection:this.checkScopes,integrationSettings:this.props.project?tn:null,updateProjectCard:this.props.updateProjectCard,updateConnection:this.props.updateConnection})}}]),n}(C.Component),an=n(496);function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var cn=function(e){m()(n,e);var t=on(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkScopes",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(an.c)(e.props.user).then((function(n){return(!n||n.expires_in<300)&&t?Object(an.f)().then((function(){return e.checkScopes(!1)})):!!n})).catch((function(e){return!1}))})),E()(p()(e),"onForestry",(function(){return Object(an.e)({allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"forestry",layer:"cms",name:t,logo:n,blurb:r,showConnectButton:!0,showConnectionStatus:!1,utilityLink:this.props.utilityLink,user:this.props.user,project:this.props.project,onConnect:this.onForestry,updateConnection:this.props.updateConnection,updateProjectCard:this.props.actionUpdateProjectLayer,checkConnection:this.checkScopes})}}]),n}(C.Component),sn=n(497);function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var un=function(e){m()(n,e);var t=ln(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={exceedContentLimit:!1},r}return u()(n,[{key:"componentDidMount",value:function(){this.updateThemeModelsCount()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.user)!==JSON.stringify(e.user)&&this.updateThemeModelsCount()}},{key:"updateThemeModelsCount",value:function(){var e=this,t=this.props,n=t.project,r=t.updateSettings;Object(Qt.d)(n).then((function(t){var n=t>Object(sn.a)();r(n?gt:mt),e.setState({exceedContentLimit:n,modelsCount:t})}))}},{key:"render",value:function(){var e=this.props.user,t=this.state.exceedContentLimit;if(!e||!e.connections||!e.connections.find((function(e){return"datocms"===e.type})))return null;if(t){var n={CMStype:"DatoCMS",maxCount:Object(sn.a)(),currentCount:this.state.modelsCount};return w.a.createElement("div",{className:"integration-settings danger"},w.a.createElement(Kt,n))}return null}}]),n}(C.Component);function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var pn=function(e){m()(n,e);var t=dn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkScopes",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(sn.b)(e.props.user).then((function(e){return!((!e||I.a.get(e,"data.attributes.expires_in_seconds")<300)&&t)&&!!e})).catch((function(e){return!1}))})),E()(p()(e),"onDatoCMS",(function(){return Object(sn.c)({allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"datocms",layer:"cms",name:t,logo:n,blurb:r,utilityLink:this.props.utilityLink,showConnectButton:!0,showConnectionStatus:!1,onConnect:this.onDatoCMS,checkConnection:this.checkScopes,integrationSettings:this.props.project?un:null,project:this.props.project,user:this.props.user,updateProjectCard:this.props.updateProjectCard,updateConnection:this.props.updateConnection})}}]),n}(C.Component),fn=n(466);function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var hn=function(e){m()(n,e);var t=mn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkScopes",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(fn.d)(e.props.user).then((function(e){return!((!e||new Date(I.a.get(e,"accessTokenExpiresAt"))-new Date<6e5)&&t)&&!!e})).catch((function(e){return!1}))})),E()(p()(e),"onSanity",(function(){return Object(fn.f)({allowConnectionOnly:!0}).then((function(){return ct.a.refreshAuth()}))})),E()(p()(e),"onDisconnect",(function(){return Object(fn.a)().then((function(){return ct.a.refreshAuth()}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"sanity",layer:"cms",name:t,logo:n,blurb:r,showConnectButton:!0,showConnectionStatus:!1,utilityLink:this.props.utilityLink,user:this.props.user,project:this.props.project,checkConnection:this.checkScopes,onConnect:this.onSanity,onDisconnect:this.onDisconnect,updateConnection:this.props.updateConnection,updateProjectCard:this.props.actionUpdateProjectLayer})}}]),n}(C.Component);function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var vn=function(e){m()(n,e);var t=gn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkConnection",(function(){return new Promise((function(e,t){e(!0)}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"git",layer:"cms",name:t,logo:n,blurb:r,showConnectButton:!1,showConnectionStatus:!1,utilityLink:this.props.utilityLink,updateConnection:this.props.updateConnection,updateProjectCard:this.props.actionUpdateProjectLayer,checkConnection:this.checkConnection})}}]),n}(C.Component);function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var bn=function(e){m()(n,e);var t=yn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"checkConnection",(function(){return new Promise((function(e){e(!0)}))})),e}return u()(n,[{key:"render",value:function(){var e=this.props.card,t=e.title,n=e.image,r=e.description;return w.a.createElement(yt,{integrationId:"netlifycms",layer:"cms",name:t,logo:n,blurb:r,showConnectButton:!1,showConnectionStatus:!1,utilityLink:this.props.utilityLink,updateConnection:this.props.updateConnection,updateProjectCard:this.props.actionUpdateProjectLayer,checkConnection:this.checkConnection})}}]),n}(C.Component),En=n(58),Cn=function(e){return w.a.createElement("div",{className:"connect-select-box"},w.a.createElement("p",null,w.a.createElement("span",null,"Stackbit will create a new repo under the selected account. "),e.handleConfigure&&w.a.createElement("span",{className:"button-link",onClick:e.handleConfigure},"edit accounts")),e.loading?w.a.createElement("div",{className:"select-loader"},w.a.createElement($e.a,null)):w.a.createElement("span",{className:"select is-rounded"},w.a.createElement("select",{value:e.selected?e.selected:"",onChange:e.handleSelect},e.data.map((function(e){return w.a.createElement("option",{key:e.account.login,value:e.account.login},e.account.login," (",e.target_type,")")})))))};Cn.propTypes={loading:M.a.bool,selected:M.a.string.isRequired,data:M.a.array.isRequired,handleSelect:M.a.func.isRequired,handleConfigure:M.a.func},Cn.defaultProps={loading:!1,handleConfigure:!1};var wn=Cn,kn=n(996),jn=function(e){return w.a.createElement("div",{className:"connect-select-box"},w.a.createElement("span",{className:"select is-rounded"},w.a.createElement("select",{value:e.selected?e.selected:"",onChange:e.handleSelect},e.data.map((function(e){return w.a.createElement("option",{key:e,value:e},Object(kn.a)(e))})))))};jn.propTypes={selected:M.a.string.isRequired,data:M.a.array.isRequired,handleSelect:M.a.func.isRequired};var Sn=jn,On=n(621),zn=n.n(On);n(526);function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Rn=function(e){m()(n,e);var t=Pn(n);function n(e){var r,a,i;return s()(this,n),i=t.call(this,e),E()(p()(i),"checkGithub",(function(){var e=i.props,t=e.user,n=e.project,r=i.props.validationOptions.advancedGithubPermissionsRequired;return i.setState({checking:!0}),Object(ce.c)(t).then((function(e){return Object(R.a)("Wizard Integration Connect Success",{integration:"github"},!1),i.setState({connected:!0,username:e.username,githubUser:e}),Object(ce.d)().then((function(e){return e.filter((function(e){var t,n;return"stackbit"!==e.account.login&&!(null!==(t=e.account.login)&&void 0!==t&&null!==(n=t.startsWith)&&void 0!==n&&n.call(t,"stackbit-"))}))})).then((function(e){if(e.length){var t=I.a.get(n,"wizard.repository.settings.installation.account.login"),r=e.find((function(e){return e.account.login===t})),a=e[0];if(t)a=r;else{var o=e.find((function(e){return"User"===e.target_type}));I.a.isEmpty(o)||(a=o)}i.setState({checking:!1,githubPermissions:"advanced",githubInstallations:e,selectedInstallation:a,selectedInstallationLogin:a.account.login})}else i.setState({checking:!1,githubPermissions:"basic",githubInstallations:e,selectedInstallation:{},selectedInstallationLogin:""});return e})).then((function(){return i.validate().then((function(){return i.submitPayload()}))}))})).catch((function(){i.setState({checking:!1,connected:!1,valid:!r},(function(){i.validate().then((function(){return i.submitPayload()}))}))}))})),E()(p()(i),"connectGithub",(function(){var e=i.props,t=(e.project,e.user,i.props.validationOptions.advancedGithubPermissionsRequired);return Object(R.a)("Wizard Connect Github button clicked",{}),Object(ce.h)(void 0,{install:t,allowConnectionOnly:!1},tt.a.auth.tosVersion).then((function(){return Object(R.a)("Wizard Connect Github Success",{}),ct.a.refreshAuth().then((function(){i.checkGithub()}))}))})),E()(p()(i),"configureGithub",(function(){return Object(ce.a)().then((function(){return ct.a.refreshAuth()}))})),E()(p()(i),"configureRepoPrivacy",(function(e){i.setState({selectedRepoPrivacyOption:e},(function(){return i.validate().then((function(){return i.submitPayload()}))}))})),E()(p()(i),"selectGithubInstallation",(function(e){var t=i.state.githubInstallations,n=e.target.value,r=t.find((function(e){return e.account.login===n}));n!==i.state.selectedInstallationLogin&&(Object(R.a)("Wizard Github Select Installation",{integration:"github",selectedInstallationLogin:n}),i.setState({selectedInstallationLogin:n,selectedInstallation:r},(function(){return i.validate().then((function(){return i.submitPayload()}))})))})),E()(p()(i),"selectRepoPrivacy",(function(e){var t=e.target.value;t!==i.state.selectedRepoPrivacyOption&&(Object(R.a)("Wizard Github Select Repo Privacy",{integration:"github",repoPrivacy:t}),i.setState({selectedRepoPrivacyOption:t},(function(){return i.validate().then((function(){return i.submitPayload()}))})))})),E()(p()(i),"submitPayload",(function(){return new Promise((function(e){var t=i.state,n=t.provider,r=t.username,a=t.connected,o=t.valid,c=t.validChecks,s=t.validationError,l=t.githubUser,u=t.selectedInstallationLogin,d=t.selectedInstallation,p={id:"github",layer:"repository",provider:n,username:r,connected:a,valid:o,validChecks:c,validationError:s,githubUser:l,githubInstallations:t.githubInstallations,githubPermissions:t.githubPermissions,selectedInstallationLogin:u,selectedInstallation:d,selectedRepoPrivacyOption:t.selectedRepoPrivacyOption},f={orgLogin:"Organization"===p.selectedInstallation.target_type&&p.selectedInstallation.account.login,privateRepo:"private"===p.selectedRepoPrivacyOption};i.props.actionUpdateConnection("repository",p),i.props.actionUpdateProjectLayer("repository",{id:"github"},f),e()}))})),E()(p()(i),"validate",(function(){return new Promise((function(e){var t=i.props.validationOptions,n=t.advancedGithubPermissionsRequired,r=t.matchGithubUsername,a=t.publicRepoRequired,o=i.state,c=o.connected,s=o.selectedInstallationLogin,l=o.selectedInstallation,u={validConnection:!n||c,validInstallation:!n||!I.a.isEmpty(s),validInstallationWritePermissions:I.a.isEmpty(s)||"read"!==I.a.get(l,"permissions.administration")&&"read"!==I.a.get(l,"permissions.contents"),validUsername:!r||I.a.get(i.state,"githubUser.username")===r,validRepoPrivacy:!a||"public"===I.a.get(i.state,"selectedRepoPrivacyOption")},d=Object.keys(u).every((function(e){return!0===u[e]})),p=d?"":Object.keys(u).find((function(e){return!1===u[e]}));i.setState({valid:d,validChecks:u,validationError:p},(function(){e(d)}))}))})),E()(p()(i),"toggleSettings",(function(){i.setState({settingsCollapsed:!i.state.settingsCollapsed})})),E()(p()(i),"renderValidationErrors",(function(){var e=i.state.validationError,t=i.props.validationOptions.matchGithubUsername;if("validUsername"===e){var n="Please connect with the GitHub account you're using with CodeSandbox (".concat(t,")");return w.a.createElement("p",null,n)}return"validConnection"===e?w.a.createElement("div",null,w.a.createElement("p",null,"This project requires a Github connection"),w.a.createElement("button",{type:"button",className:"button-flat button-flat-small button-flat-fullwidth button-flat-error",onClick:i.connectGithub},"Connect")):"validInstallation"===e?w.a.createElement("div",null,w.a.createElement("p",null,"Stackbit requires a higher level of permissions on your Github account."),w.a.createElement("button",{type:"button",className:"button-flat button-flat-small button-flat-fullwidth button-flat-error",onClick:i.configureGithub},"Install")):"validInstallationWritePermissions"===e?w.a.createElement("div",null,w.a.createElement("p",null,"Stackbit requires write permissions to create new repos, please check your permissions."),w.a.createElement("button",{type:"button",className:"button-flat button-flat-small button-flat-fullwidth button-flat-error",onClick:i.configureGithub},"Permissions")):"validRepoPrivacy"===e?w.a.createElement("div",null,w.a.createElement("p",null,"The current project settings require that you create a public Github repository."),w.a.createElement("button",{type:"button",className:"button-flat button-flat-small button-flat-fullwidth button-flat-error",onClick:function(){return i.configureRepoPrivacy("public")}},"Set Public")):null})),i.state={provider:"github",username:"",checking:!1,connected:!1,disabled:!1,hovering:!1,valid:!1,validChecks:{},validationError:"",expanded:!1,loadingRepos:!1,githubUser:{},githubPermissions:"",githubInstallations:[],selectedInstallation:{},selectedInstallationLogin:null,repoPrivacyOptions:["public","private"],selectedRepoPrivacyOption:null!==(r=i.props.project.wizard.repository)&&void 0!==r&&null!==(a=r.settings)&&void 0!==a&&a.privateRepo?"private":"public",settingsCollapsed:!0},i}return u()(n,[{key:"componentDidMount",value:function(){this.checkGithub()}},{key:"componentDidUpdate",value:function(e,t){var n,r;(null===(n=this.props.user)||void 0===n?void 0:n.connections.find((function(e){return"github-app"===e.type})))!==(null===(r=e.user)||void 0===r?void 0:r.connections.find((function(e){return"github-app"===e.type})))&&(O.a.debug("Github User Updated"),this.checkGithub())}},{key:"render",value:function(){var e,t=this.state,n=t.connected,r=t.checking,a=t.username,i=t.validationError,o=t.settingsCollapsed,c=t.githubInstallations,s=this.props.user,l="Organization"===(null===(e=this.state.selectedInstallation)||void 0===e?void 0:e.target_type),u=!n&&En.c.isRegistered(s),d=!En.c.isRegistered(s),p=n&&!c.length,f=o?"Expand to configure Github":"Select GitHub account";return w.a.createElement("div",{className:"connect-card"},w.a.createElement("div",{className:"connect-card-image"},w.a.createElement("img",{src:"https://assets.stackbit.com/wizard/deployment/github-logo.svg"})),w.a.createElement("div",{className:"connect-card-details"},!r&&w.a.createElement(w.a.Fragment,null,d&&w.a.createElement("div",{className:"connect-card-description"},w.a.createElement(T.a,{clamp:2},"A web-based hosting service for version control using Git.")),u&&w.a.createElement("div",{className:"connect-card-description"},"Have a Github account? Connect it ",w.a.createElement("a",{onClick:this.connectGithub},"here")),n&&w.a.createElement("div",{className:"connect-card-username"},"Connected as ",w.a.createElement("strong",null,a)),p&&w.a.createElement("div",{className:"connect-card-description"},"Install ",w.a.createElement("a",{onClick:this.configureGithub},"advanced permissions")))),!1,c.length>0&&w.a.createElement("div",{className:"connect-card-settings"},w.a.createElement("div",{className:x()("connect-card-settings-toggle",{collapsed:o}),onClick:this.toggleSettings},w.a.createElement("h3",null,f),w.a.createElement(zn.a,{className:x()({"expanded-icon":o})})),w.a.createElement("div",{className:x()("connect-card-settings-panel",{collapsed:o})},w.a.createElement(wn,{loading:this.state.loadingRepos,data:this.state.githubInstallations,selected:this.state.selectedInstallationLogin,handleSelect:this.selectGithubInstallation,handleConfigure:this.configureGithub}),w.a.createElement(Sn,{loading:!1,data:this.state.repoPrivacyOptions,selected:this.state.selectedRepoPrivacyOption,handleSelect:this.selectRepoPrivacy}),l&&w.a.createElement("p",{style:{marginTop:"10px"}},"You have selected an organization repo. Please ensure you are a member of this org with write permissions."))),i&&w.a.createElement("div",{className:"connect-card-settings"},this.renderValidationErrors()))}}]),n}(C.Component),Nn=Object(k.connect)((function(e){var t,n,r;return{user:e.global.user,project:e.wizard.project,connections:e.wizard.connections,validationOptions:{advancedGithubPermissionsRequired:null===(t=e.wizard.status.requirements)||void 0===t?void 0:t.advancedGithubPermissionsRequired,matchGithubUsername:null===(n=e.wizard.status.requirements)||void 0===n?void 0:n.githubUser,publicRepoRequired:null===(r=e.wizard.status.requirements)||void 0===r?void 0:r.publicRepoRequired}}}),{actionUpdateConnection:z.a.actionUpdateConnection,actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(Rn),In=n(997),Dn=n.n(In);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Tn=function(e){var t=e.project,n=Object(C.useState)(!0),r=Yt()(n,2),a=r[0],i=r[1],o=a?"Expand for more theme Info":"Theme Analysis",c=I.a.get(t,"wizard.theme.settings"),s=I.a.get(c,"source"),l=I.a.get(c,"branch"),u=I.a.get(c,"sourceOriginal"),d=I.a.get(c,"sourceAlias"),p=I.a.get(c,"themeConfig.themeRequiresImportData"),f=I.a.get(c,"themeConfig.import.contentFile"),m=I.a.get(c,"analyzedConfig.ssg.ssgName"),h=I.a.get(c,"analyzedConfig.cms.cmsName");return"unibit"===m&&(h="any"),m||(m="not detected"),h||(h="not detected"),w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:x()("connect-card-settings-toggle",{collapsed:a}),onClick:function(){return i(!a)}},w.a.createElement("h3",null,o),w.a.createElement(Dn.a,{className:x()({"expanded-icon":a})})),w.a.createElement("div",{className:x()("connect-card-settings-panel",{collapsed:a})},w.a.createElement("p",null,w.a.createElement("span",null,"Stackbit scanned this custom theme - "),w.a.createElement(J.a,{className:"button-link",to:"/edit/theme/custom"},"edit settings")),w.a.createElement("ul",null,w.a.createElement("li",null,w.a.createElement("strong",null,"Github: "),w.a.createElement("a",{href:u||s,target:"_blank",rel:"noreferrer"},u||s)),w.a.createElement("li",null,w.a.createElement("strong",null,"Branch:")," ",l),d&&w.a.createElement("li",null,w.a.createElement("strong",null,"aliased:")," true"),m&&w.a.createElement("li",null,w.a.createElement("strong",null,"SSG:")," ",m),w.a.createElement("li",null,w.a.createElement("strong",null,"CMS:")," ",h,p&&f&&w.a.createElement("span",null,"- import file found ",w.a.createElement("em",null,f)),p&&!f&&w.a.createElement("span",null,"- no import file found")))))},Un=function(e){return w.a.createElement("div",null,w.a.createElement("p",null,"Error loading custom theme from Github URL: ",e.source),w.a.createElement(J.a,{type:"button",className:"button-flat button-flat-error button-flat-small button-flat-fullwidth",to:"/edit/theme/custom"},"Revalidate"))},Mn=function(e){m()(n,e);var t=An(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"changeClicked",(function(){var e,t=null===(e=r.props.project.wizard.theme)||void 0===e?void 0:e.id;Object(R.a)("Wizard Summary Card Change Clicked",{cardType:"theme",clickedCard:t},!1)})),r.state={checking:!1,error:null},r}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n,r=this,a=this.props,i=a.project,o=(a.user,a.initialCards),c=I.a.get(i,"wizard.theme.id"),s="custom"===c;if(!s)return this.props.actionUpdateConnection("theme",{id:c,layer:"theme",connected:!!c,valid:!(null===(e=i.wizard)||void 0===e||null===(t=e.theme)||void 0===t||null===(n=t.settings)||void 0===n||!n.source)}),!0;if(s){var l,u,d;if(!I.a.get(i,"wizard.theme.settings.source"))return this.props.actionUpdateConnection("theme",{id:c,layer:"theme",connected:!!c,valid:!(null===(l=i.wizard)||void 0===l||null===(u=l.theme)||void 0===u||null===(d=u.settings)||void 0===d||!d.source)}),this.setState({checking:!1,error:!0}),!1;if(I.a.get(i,"wizard.theme.settings.isValidated"))return!1;var p=I.a.get(i,"wizard.theme.settings.source");return this.setState({checking:!0}),Object(Qt.a)(p).then((function(e){var t=e||p;return Object(R.a)("Wizard Custom Theme - Load Start",{repoUrl:t,context:"summary page"}),Object(re.a)({project:i,repoUrl:t,repoBranch:null,forceValidate:!0,initializer:"Custom Theme Import"}).then((function(n){O.a.debug("Theme Validation",n);var a,s,l=xn(xn(xn({},i.wizard.theme.settings),n),{},{source:t});if((e&&(l.sourceAlias=e,l.sourceOriginal=p),l.themeRequiresImportData)&&!(null===(a=l.themeConfig)||void 0===a||null===(s=a.import)||void 0===s?void 0:s.contentFile)){var u=new Error("no import data found");throw u.type="importdata",u}r.setState({checking:!1}),Object(R.a)("Wizard Custom Theme - Load Success",{repoUrl:l.source,branch:l.branch,context:"summary page"});var d=o.jamstackthemes.find((function(e){return e.github===p}));l.title=(null==d?void 0:d.title)||"Custom Theme",l.image=(null==d?void 0:d.image)||null,r.props.actionUpdateConnection("theme",{id:c,layer:"theme",connected:!0,valid:!0}),r.props.actionUpdateProjectLayer("theme",{id:c},l)})).catch((function(e){var n,a,i,o=Object(ee.serializeError)(e);O.a.debug("Custom Theme Load Error",o);var s=null==o||null===(n=o.response)||void 0===n?void 0:n.status,l=(null==o||null===(a=o.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Error loading theme";404===s&&(l="Stackbit can't access this repo"),r.setState({checking:!1,error:!0}),Object(R.a)("Wizard Custom Theme - Load Failure",{error:l,repoUrl:t,context:"summary page"}),r.props.actionUpdateConnection("theme",{id:c,layer:"theme",connected:!1,valid:!1})}))}))}return!0}},{key:"render",value:function(){var e,t,n,r,a=this.state,i=a.checking,o=a.error,c=this.props,s=c.project,l=c.initialCards,u=null===(e=s.wizard.theme)||void 0===e?void 0:e.id,d="custom"===u,p=null===(t=s.wizard)||void 0===t||null===(n=t.theme)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.source,f=I.a.isEmpty(u)||!p,m={};m=d?l.jamstackthemes.find((function(e){return e.github===p})):l.theme.find((function(e){return e.id===u}));var h=Object(Qt.b)(u,m),g=Object(Qt.c)(u,m);return w.a.createElement("div",{className:"connect-card"},w.a.createElement("div",{className:"connect-card-image connect-card-image-theme"},w.a.createElement("img",{src:g})),w.a.createElement("div",{className:"connect-card-details"},w.a.createElement("div",{className:"connect-card-description"},f&&w.a.createElement("div",null,"No theme is selected"),!f&&!d&&w.a.createElement(T.a,{clamp:2},h),!f&&d&&w.a.createElement("div",null,w.a.createElement("strong",null,"Github URL:")," ",w.a.createElement("span",{className:"connect-card-description-github-url"},p)),!f&&w.a.createElement(J.a,{className:"connect-card-change-link",to:"/edit/theme",onClick:this.changeClicked},w.a.createElement(dt.a,null)," Change"))),d&&!f&&w.a.createElement("div",{className:"connect-card-settings"},i&&w.a.createElement("div",{className:"select-loader"},w.a.createElement($e.a,null)),!i&&!o&&w.a.createElement(Tn,{project:s}),!i&&o&&w.a.createElement(Un,{source:p})),f&&w.a.createElement("div",{className:"connect-card-settings"},w.a.createElement(J.a,{to:"/edit/theme",className:"button-flat button-flat-small button-flat-fullwidth",onClick:this.changeClicked},"Select")))}}]),n}(C.Component),Gn=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project,initialCards:e.wizard.initialCards}}),{actionUpdateConnection:z.a.actionUpdateConnection,actionUpdateProjectLayer:z.a.actionUpdateProjectLayer})(Mn);function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Wn=function(e){m()(n,e);var t=Fn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"changeClicked",(function(){var t=e.props.cmsId;Object(R.a)("Wizard Summary Card Change Clicked",{cardType:"cms",clickedCard:t},!1)})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props.cmsId;this.props.actionUpdateConnection("cms",{id:e,layer:"cms",connected:!!e,valid:!!e})}},{key:"render",value:function(){var e=this.props.cmsId,t=this.props.cards.find((function(t){return t.id===e})),n=t.description||"No CMS is selected",r=t.image||G,a=Object(Qt.e)();return w.a.createElement("div",{className:"connect-card"},w.a.createElement("div",{className:"connect-card-image"},w.a.createElement("img",{src:r})),w.a.createElement("div",{className:"connect-card-details"},w.a.createElement("div",{className:"connect-card-description"},w.a.createElement(T.a,{clamp:2},n),!a&&w.a.createElement(J.a,{className:"connect-card-change-link",to:"/edit/cms",onClick:this.changeClicked},w.a.createElement(dt.a,null)," Change"))),!e&&w.a.createElement("div",{className:"connect-card-settings"},w.a.createElement(J.a,{to:"/edit/cms",className:"button-flat button-flat-small button-flat-fullwidth",onClick:this.changeClicked},"Select")))}}]),n}(C.Component),_n=Object(k.connect)((function(e){var t,n;return{cmsId:null===(t=e.wizard.project.wizard.cms)||void 0===t?void 0:t.id,cards:null===(n=e.wizard.cards)||void 0===n?void 0:n.cms}}),{actionUpdateConnection:z.a.actionUpdateConnection})(Wn);function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Vn=function(e){m()(n,e);var t=Bn(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"changeClicked",(function(){var t=e.props.ssgId;Object(R.a)("Wizard Summary Card Change Clicked",{cardType:"ssg",clickedCard:t},!1)})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props.ssgId;this.props.actionUpdateConnection("ssg",{id:e,layer:"ssg",connected:!!e,valid:!!e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.ssgId;t!==e.ssgId&&this.props.actionUpdateConnection("ssg",{id:t,layer:"ssg",connected:!!t,valid:!!t})}},{key:"render",value:function(){var e=this.props.ssgId,t=this.props.cards.find((function(t){return t.id===e})),n=(null==t?void 0:t.description)||"No SSG is selected",r=(null==t?void 0:t.image)||G,a=Object(Qt.g)();return w.a.createElement("div",{className:"connect-card"},w.a.createElement("div",{className:"connect-card-image"},w.a.createElement("img",{src:r})),w.a.createElement("div",{className:"connect-card-details"},w.a.createElement("div",{className:"connect-card-description"},w.a.createElement(T.a,{clamp:2},n),e&&!a&&w.a.createElement(J.a,{className:"connect-card-change-link",to:"/edit/ssg",onClick:this.changeClicked},w.a.createElement(dt.a,null)," Change"))),!e&&w.a.createElement("div",{className:"connect-card-settings"},w.a.createElement(J.a,{to:"/edit/ssg",className:"button-flat button-flat-small button-flat-fullwidth",onClick:this.changeClicked},"Select")))}}]),n}(C.Component),qn=Object(k.connect)((function(e){var t,n;return{ssgId:null===(t=e.wizard.project.wizard.ssg)||void 0===t?void 0:t.id,cards:null===(n=e.wizard.initialCards)||void 0===n?void 0:n.ssg}}),{actionUpdateConnection:z.a.actionUpdateConnection})(Vn),Hn=n(622),Jn=(n(554),function(e){return w.a.createElement("div",{className:"fullscreen-overlay register-popup"},w.a.createElement("div",{className:"fullscreen-overlay-container"},w.a.createElement("p",{className:"fullscreen-overlay-desc"},"Logging In"),w.a.createElement($e.a,null)))});function Zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Yn=function(e){m()(n,e);var t=Zn(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"startLogin",(function(){r.setState((function(e){return{loggingIn:!0,loginCount:e.loginCount+1}}));var e=window.analytics.user().id();return O.a.debug("startLogin analyticsUserId",e),(e||r.state.loginCount>10)&&(clearInterval(r.loginTimer),r.props.actionUpdateStatus({registerOverlay:!1}),void r.props.actionTriggerDeploy())})),E()(p()(r),"onLoginSwitched",(function(e){Object(Lt.a)("Wizard Signin Popup Login Switched",{type:e})})),E()(p()(r),"onClose",(function(){Object(Lt.a)("Wizard Signin Popup Closed",{}),r.props.actionUpdateStatus({registerOverlay:!1})})),r.state={loggingIn:!1,loginCount:0},r}return u()(n,[{key:"componentDidMount",value:function(){this.props.isVisible&&Object(Lt.a)("Wizard Signin Popup Presented",{})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.user,a=n.isVisible,i=(n.projectId,e.user);!a&&this.props.isVisible&&Object(Lt.a)("Wizard Signin Popup Presented",{}),(!i&&r||!i.emailVerification&&void 0!==(null==r?void 0:r.emailVerification))&&(this.loginTimer=setInterval((function(){return t.startLogin()}),1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.loginTimer),this.setState({loggingIn:!1})}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.projectId,r=this.state.loggingIn;return t?w.a.createElement("div",{className:"wizard-register-overlay"},r?w.a.createElement(Jn,null):w.a.createElement(Hn.a,{onLoginSwitched:this.onLoginSwitched,projectId:n,description:function(e){return"To create your site, please sign ".concat(e?"up":"in"," to Stackbit")},place:"Wizard Signin Popup"}),w.a.createElement("button",{type:"button",className:"modal-close is-large",onClick:this.onClose})):null}}]),n}(C.Component),Qn=Object(k.connect)((function(e){var t;return{user:e.global.user,projectId:null===(t=e.wizard.project)||void 0===t?void 0:t.id,isVisible:e.wizard.status.registerOverlay}}),{actionTriggerDeploy:z.a.actionTriggerDeploy,actionUpdateStatus:z.a.actionUpdateStatus})(Yn),Kn=n(424);n(998);function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Xn=function(e){m()(n,e);var t=$n(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"saveName",(function(){r.props.actionUpdateProjectName({name:r.state.name}),Object(R.a)("Wizard Project Renamed",{})})),E()(p()(r),"onNameChange",(function(e){r.setState({name:e})})),r.state={name:null},r}return u()(n,[{key:"componentDidMount",value:function(){this.setState({name:this.props.projectName})}},{key:"render",value:function(){var e=this,t=this.props.projectName,n=this.state.name,r=Object(Kn.e)(t),a=w.a.createElement("span",null,"Your project name will be used across your tech stack:"),i=t&&!r?"The project name should contain at least one alphanumeric character":null;return w.a.createElement("section",{className:"project-name-section"},w.a.createElement("div",{className:"project-name-heading"},"",w.a.createElement("p",{className:"project-name-subtitle"},a)),w.a.createElement("div",{className:"input-wrapper ".concat(r?"input-valid":"input-invalid")},w.a.createElement("input",{name:"project-name",className:"clean-input",type:"text",placeholder:"Enter a Name",value:n||"",maxLength:50,onBlur:function(){return e.saveName()},onKeyUp:function(e){13===e.keyCode&&e.currentTarget.blur()},onChange:function(t){return e.onNameChange(t.target.value)}}),w.a.createElement("span",{className:"input-validation"})),w.a.createElement("span",{className:"error-message"},i))}}]),n}(C.Component),er=Object(k.connect)((function(e){return{projectName:e.wizard.project.name}}),{actionUpdateProjectName:z.a.actionUpdateProjectName})(Xn);function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ar=function(e){m()(n,e);var t=rr(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"connect",(function(){var e={install:r.state.advancedGithubPermissionsRequired,allowConnectionOnly:!1};Object(ce.h)(void 0,e,tt.a.auth.tosVersion).then((function(){ct.a.refreshAuth().then((function(){r.checkGithub().then((function(){return r.validate()})).then((function(){return r.submit()}))}))}))})),E()(p()(r),"checkGithub",(function(){var e=r.props.project,t=r.state.advancedGithubPermissionsRequired;return r.setState({checking:!0}),Object(ce.c)(r.props.user).then((function(t){return r.setState({connected:!0,username:t.username,githubUser:t}),Object(ce.d)().then((function(e){return e.filter((function(e){var t,n;return"stackbit"!==e.account.login&&!(null!==(t=e.account.login)&&void 0!==t&&null!==(n=t.startsWith)&&void 0!==n&&n.call(t,"stackbit-"))}))})).then((function(t){if(t.length){var n=I.a.get(e,"wizard.repository.settings.installation.account.login"),a=t.find((function(e){return e.account.login===n})),i=t[0];if(n)i=a;else{var o=t.find((function(e){return"User"===e.target_type}));I.a.isEmpty(o)||(i=o)}r.setState({checking:!1,githubPermissions:"advanced",githubInstallations:t,selectedInstallation:i,selectedInstallationLogin:i.account.login})}else r.setState({checking:!1,githubPermissions:"basic",githubInstallations:t,selectedInstallation:{},selectedInstallationLogin:""});return t})).then((function(){return!0}))})).catch((function(){r.setState({checking:!1,connected:!1,valid:!t},(function(){return!1}))}))})),E()(p()(r),"validate",(function(){return new Promise((function(e){var t=r.state,n=t.connected,a=t.selectedInstallationLogin,i=t.selectedInstallation,o={validConnection:!0===n,validInstallation:!t.advancedGithubPermissionsRequired||!I.a.isEmpty(a),validInstallationWritePermissions:"read"!==I.a.get(i,"permissions.administration")&&"read"!==I.a.get(i,"permissions.contents")},c=Object.keys(o).every((function(e){return!0===o[e]})),s=c?"":Object.keys(o).find((function(e){return!1===o[e]}));r.setState({valid:c,validChecks:o,validationError:s},(function(){e(c)}))}))})),E()(p()(r),"submit",(function(){var e={id:"github",layer:"repository",provider:r.state.provider,username:r.state.username,connected:r.state.connected,valid:r.state.valid,validChecks:r.state.validChecks,validationError:r.state.validationError,githubUser:r.state.githubUser,githubInstallations:r.state.githubInstallations,githubPermissions:r.state.githubPermissions,selectedInstallationLogin:r.state.selectedInstallationLogin,selectedInstallation:r.state.selectedInstallation},t=r.props.project;r.props.actionUpdateConnection("repository",e).then((function(){var n,a=nr(nr({},null===(n=t.wizard.repository)||void 0===n?void 0:n.settings),{},{orgLogin:"Organization"===e.selectedInstallation.target_type&&e.selectedInstallation.account.login,privateRepo:"private"===e.selectedRepoPrivacyOption,installation:{permissions:e.selectedInstallation.permissions,account:{html_url:e.selectedInstallation.account.html_url,login:e.selectedInstallation.account.login,type:e.selectedInstallation.account.type}}});r.props.actionUpdateProjectLayer("repository",t.wizard.repository,a).then((function(){r.props.onSubmit()}))}))})),r.state={provider:"github",username:"",advancedGithubPermissionsRequired:!0,checking:!1,connected:!1,disabled:!1,hovering:!1,valid:!1,validChecks:{},validationError:"",expanded:!1,loadingRepos:!1,githubUser:{},githubPermissions:"",githubInstallations:[],selectedInstallation:{},selectedInstallationLogin:null,repoPrivacyOptions:["public","private"],settingsCollapsed:!0},r}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.submitting;return w.a.createElement("div",null,w.a.createElement(Ze.a,{text:"Connect Github & Create Site",disabled:t,submitting:n,handleClick:this.connect}))}}]),n}(C.Component),ir=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer,actionUpdateConnection:z.a.actionUpdateConnection})(ar);n(999);function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var cr=function(e){m()(n,e);var t=or(n);function n(){var e;return s()(this,n),e=t.call(this),E()(p()(e),"onLearnMoreClick",(function(){Object(Lt.a)("Wizard DigitalOcean GitHub Link Clicked",{})})),e.state={checked:!1},e}return u()(n,[{key:"render",value:function(){var e=this,t=this.props.checked;return w.a.createElement("div",{className:"confirm-do-connection"},w.a.createElement("input",{type:"checkbox",className:"styled-checkbox styled-checkbox--normal",id:"do-connected-checkbox",onChange:function(){Object(Lt.a)("Wizard DigitalOcean GitHub App Installed Checkbox Toggled",{checked:!t}),e.props.actionUpdateStatus({digitaloceanIsChecked:!t}),e.props.actionValidateWizard()},checked:t,name:"do-connected"}),w.a.createElement("label",{htmlFor:"do-connected-checkbox"},"I have DigitalOcean GitHub Application installed. Or"," ",w.a.createElement(lt.a,{onClick:this.onLearnMoreClick,to:tt.a.digitalocean.githubAppLink},"Install now")))}}]),n}(C.Component),sr=Object(k.connect)((function(e){return{checked:e.wizard.status.digitaloceanIsChecked}}),{actionUpdateStatus:z.a.actionUpdateStatus,actionValidateWizard:z.a.actionValidateWizard})(cr);function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ur=function(e){m()(n,e);var t=lr(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"triggerDeploy",(function(){Object(R.a)("Wizard Create Site Clicked",{}),e.props.actionTriggerDeploy()})),e}return u()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.project,a=n.user,i=n.status,o="digitalocean"===(null===(e=r.wizard.deployment)||void 0===e?void 0:e.id)&&!En.c.isRegistered(a);return w.a.createElement(w.a.Fragment,null,"digitalocean"===(null===(t=r.wizard.deployment)||void 0===t?void 0:t.id)&&w.a.createElement(sr,null),o?w.a.createElement(ir,{disabled:!i.valid,submitting:i.isSubmitting,onSubmit:this.triggerDeploy}):w.a.createElement(Ze.a,{text:"Create Site",disabled:!i.valid,submitting:i.isSubmitting,handleClick:this.triggerDeploy}))}}]),n}(C.Component),dr=Object(k.connect)((function(e){return{status:e.wizard.status,project:e.wizard.project,user:e.global.user}}),{actionTriggerDeploy:z.a.actionTriggerDeploy})(ur);function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var fr=function(e){m()(n,e);var t=pr(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"restart",(function(){e.props.actionResetWizard(),window.location.reload()})),e}return u()(n,[{key:"render",value:function(){var e=this.props.error;return w.a.createElement(w.a.Fragment,null,e&&w.a.createElement("div",{className:"error"},w.a.createElement("span",null,"Error deploying project - "),w.a.createElement("a",{href:"#",onClick:this.restart},"Start Again")))}}]),n}(C.Component),mr=Object(k.connect)((function(e){return{error:e.wizard.status.error}}),{actionResetWizard:z.a.actionResetWizard})(fr);function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var gr,vr,yr=function(e){m()(n,e);var t=hr(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"renderCmsIntegration",(function(){var t,n=e.props,r=n.user,a=n.project,i=n.cards,o=null===(t=a.wizard.cms)||void 0===t?void 0:t.id,c=Object(Qt.e)(),s=null==i?void 0:i.cms.find((function(e){return e.id===o})),l=e.getIntegrationCards()[o];return l?w.a.createElement(l,{user:r,project:a,card:s,updateConnection:e.props.actionUpdateConnection,updateProjectCard:e.props.actionUpdateProjectLayer,utilityLink:!c&&"/edit/cms"}):w.a.createElement(_n,null)})),E()(p()(e),"renderDeploymentIntegration",(function(){var t,n=e.props,r=n.user,a=n.project,i=n.cards,o=null===(t=a.wizard.deployment)||void 0===t?void 0:t.id,c=Object(Qt.f)(a),s=i.deployment.find((function(e){return e.id===o})),l=e.getIntegrationCards()[o];return l?w.a.createElement(l,{user:r,project:a,card:s,updateConnection:e.props.actionUpdateConnection,updateProjectCard:e.props.actionUpdateProjectLayer,utilityLink:!c&&"/edit/deployment"}):null})),e}return u()(n,[{key:"componentDidMount",value:function(){O.a.debug("SummaryPage Mounted");var e=this.props,t=e.project,n=e.connections;this.props.actionValidateWizard(t,n)}},{key:"componentDidUpdate",value:function(e){I.a.isEqual(this.props.connections,e.connections)||this.props.actionValidateWizard(this.props.project,this.props.connections)}},{key:"getIntegrationCards",value:function(){return{contentful:rn,datocms:pn,sanity:hn,forestry:cn,git:vn,netlifycms:bn,devto:Et,netlify:kt,azure:_t,digitalocean:Ht}}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.project,r=e.status;return w.a.createElement("div",{className:"wizard wizard-full"},r.registerOverlay&&w.a.createElement(Qn,null),w.a.createElement(H,{pageName:"Welcome to Stackbit",pageSubtitle:"The site builder and editing platform for the Jamstack"}),w.a.createElement(w.a.Fragment,null,w.a.createElement(er,{project:n,user:t}),w.a.createElement("div",{className:x()("card-catalog","card-catalog-summary")},w.a.createElement("div",{className:"card-holder"},w.a.createElement("h3",{className:"card-holder-title"},"Theme"),w.a.createElement(Gn,null)),w.a.createElement("div",{className:"card-holder"},w.a.createElement("h3",{className:"card-holder-title"},"Static Site Generator"),w.a.createElement(qn,null)),w.a.createElement("div",{className:"card-holder"},w.a.createElement("h3",{className:"card-holder-title"},"Headless CMS"),this.renderCmsIntegration()),r.repositoryCardEnabled&&w.a.createElement("div",{className:"card-holder"},w.a.createElement("h3",{className:"card-holder-title"},"Repository"),w.a.createElement(Nn,null)),r.deploymentCardEnabled&&w.a.createElement("div",{className:"card-holder"},w.a.createElement("h3",{className:"card-holder-title"},"Deployments"),this.renderDeploymentIntegration())),w.a.createElement("div",{className:"button-container"},w.a.createElement(dr,null),w.a.createElement(mr,null))))}}]),n}(C.Component),br=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project,connections:e.wizard.connections,cards:e.wizard.cards,status:e.wizard.status}}),{actionUpdateProjectLayer:z.a.actionUpdateProjectLayer,actionUpdateConnection:z.a.actionUpdateConnection,actionValidateWizard:z.a.actionValidateWizard,actionUpdateStatus:z.a.actionUpdateStatus})(yr),Er=n(6),Cr=n(64),wr=n(1e3);n(1001),n(1002);function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var jr=w.a.lazy((function(){return n.e(30).then(n.t.bind(null,1166,7)).then((function(e){return{default:e.Survey}}))})),Sr=null===tt.a||void 0===tt.a||null===(gr=tt.a.surveys)||void 0===gr||null===(vr=gr.wizardSurvey)||void 0===vr?void 0:vr.name,Or=Object(k.connect)((function(e){return{user:e.global.user}}),{setAuthenticatedUser:Cr.b})(function(e){m()(n,e);var t=kr(n);function n(e){var r,a;return s()(this,n),a=t.call(this,e),E()(p()(a),"handleSkip",(function(){var e=!a.state.surveySkipped;a.setState({surveySkipped:e}),a.props.onSkip(e)})),E()(p()(a),"handleComplete",(function(e){a.setState({surveyComplete:!0});var t={name:Sr,fields:e.data};En.c.addSurvey(t).then((function(){En.c.fetchCurrentUser().then((function(e){a.props.setAuthenticatedUser({user:e}),a.props.onComplete()}))}))})),a.state={surveySkipped:null!==(r=e.startClosed)&&void 0!==r&&r,surveyComplete:!1},a}return u()(n,[{key:"render",value:function(){var e=this.state,t=e.surveyComplete,n=e.surveySkipped,r=this.props.showSkip;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"progress-box wizard-survey ".concat(n?"":"expanded")},!t&&w.a.createElement("h2",{className:"progres-box-title"},"While we're spinning up your site, tell us a bit about yourself."),w.a.createElement(C.Suspense,{fallback:w.a.createElement("div",null,"Loading...")},w.a.createElement(jr,{json:wr,onComplete:this.handleComplete}))),r&&w.a.createElement("div",{className:"progress-box-skip"},n?w.a.createElement("a",{className:"wizard-survey-skip",onClick:this.handleSkip},this.props.startClosed?"Answer a quick survey?":"Actually, show me the questions"):w.a.createElement("a",{className:"wizard-survey-skip",onClick:this.handleSkip},"Skip Questions")))}}]),n}(C.Component)),zr=n(450),Pr=n(1003),Rr=n.n(Pr),Nr=n(1004),Ir=n.n(Nr),Dr=n(1005),Lr=n.n(Dr);n(1006);function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Ar={provisioningCms:{createUIExtensions:"Creating UI extensions",createContentTypes:"Creating content types",createAssets:"Creating assets",uploadContent:"Uploading content",setupViews:"Setting up views",createDataset:"Creating dataset",importDataset:"Importing dataset",updateFiles:"Updating project files",installDependencies:"Installing Sanity Studio dependencies",deployStudio:"Deploying Sanity Studio",deployGraphql:"Deploying Sanity GraphQL API"}},Tr=function(e){m()(n,e);var t=xr(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"updateBuildLog",(function(){var e=r.props.project,t=r.state.buildLog,n=I.a.get(e,"deploymentData.container.buildProgress","default").split("/")[0],a=Object(Er.p)(r.props.project),i=I.a.get(r.props.project,"buildStatus"),o=I.a.cloneDeep(t),c=!1;return Object.keys(t).forEach((function(e){c?(o[e].complete=!1,o[e].current=!1,o[e].failed=!1):(o[e].complete=!0,o[e].current=!1,o[e].failed=!1),n===e&&(c=!0,a===Er.b.FAILED||"build-failed"===i?(o[e].complete=!1,o[e].current=!1,o[e].failed=!0):o[e].finalStep?(o[e].complete=!0,o[e].current=!1):(o[e].complete=!1,o[e].current=!0))})),r.setState({buildLog:o}),o})),E()(p()(r),"calculatePercentage",(function(){var e=I.a.get(r.props.project,"deploymentData.container.buildProgress","default").split("/")[0],t=r.state.buildLog[e].lowerEstimate,n=r.state.buildLog[e].upperEstimate,a=r.state,i=a.percentage,o=a.animated;i<t&&(i=t);r.timerPercentage=setInterval((function(){var e=I.a.get(r.props.project,"deploymentData.container.healthy"),t=Object(Er.p)(r.props.project),a=I.a.get(r.props.project,"buildStatus");i<n&&(i+=Rr()(2),o=!0),100===i&&(o=!0),(e||r.props.healthy)&&(i=100,o=!1,clearInterval(r.timerPercentage)),t!==Er.b.FAILED&&"build-failed"!==a||(o=!1,clearInterval(r.timerPercentage)),r.setState({percentage:i,animated:o})}),1e3)})),r.state={percentage:0,animated:!1,buildLog:{default:{name:"default",text:"Warming Up",lowerEstimate:1,upperEstimate:15,complete:!1,current:!1},provisioningCms:{name:"provisioningCms",text:"Uploading content to CMS",lowerEstimate:15,upperEstimate:60,complete:!1,current:!1},initializing:{name:"initializing",text:"Configuring Stackbit",lowerEstimate:60,upperEstimate:75,complete:!1,current:!1},initialized:{name:"initialized",text:"Configuring SSG",lowerEstimate:75,upperEstimate:85,complete:!1,current:!1},appReady:{name:"appReady",text:"Preparing Live Preview",lowerEstimate:85,upperEstimate:90,complete:!1,current:!1,finalStep:!0}}},r}return u()(n,[{key:"componentDidMount",value:function(){this.updateBuildLog(),this.calculatePercentage()}},{key:"componentDidUpdate",value:function(e){var t=I.a.get(e,"project.deploymentData.container.buildProgress","").split("/")[0],n=I.a.get(this.props,"project.deploymentData.container.buildProgress","").split("/")[0],r=Object(Er.p)(e.project),a=Object(Er.p)(this.props.project);t!==n&&(O.a.debug("buildProgress",t||"unknown",n),clearInterval(this.timerPercentage),this.updateBuildLog(),this.calculatePercentage()),r!==a&&(O.a.debug("containerStatus",r,a),clearInterval(this.timerPercentage),this.updateBuildLog(),this.calculatePercentage())}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerPercentage),clearInterval(this.timerRedirect)}},{key:"render",value:function(){var e=this,t=this.props.project,n=I.a.get(t,"deploymentData.container.buildProgress","").split("/"),r=n[0],a=n.length>1?n[1]:null,i=I.a.get(Ar,"".concat(r,".").concat(a)),o=I.a.get(t,"deploymentData.container.healthy")||this.props.healthy,c=Object(Er.p)(t);return w.a.createElement("div",{className:"build-progress-bar"},w.a.createElement("div",{className:"cssProgress"},w.a.createElement("div",{className:"progress2"},w.a.createElement("div",{className:"cssProgress-bar ".concat(this.state.animated?"cssProgress-active":""),style:{width:o?"100%":"".concat(this.state.percentage,"%")}}))),w.a.createElement("div",{className:"build-progress-items"},Object.keys(this.state.buildLog).map((function(t){return w.a.createElement("div",{className:"progress-item ".concat(e.state.buildLog[t].complete?"complete":""," ").concat(e.state.buildLog[t].current?"current":""," ").concat(e.state.buildLog[t].failed?"failed":""),key:t},e.state.buildLog[t].complete?w.a.createElement(Ir.a,null):"",e.state.buildLog[t].current?w.a.createElement("div",{className:"flare-item"},w.a.createElement("div",{className:"flare"})):"",e.state.buildLog[t].failed?w.a.createElement(Lr.a,null):"",w.a.createElement("span",null,e.state.buildLog[t].text,t===r&&i?w.a.createElement("span",null,":Â ",w.a.createElement("span",{className:"secondary"},i)):null))})),"appReady"===r&&w.a.createElement("div",{className:"progress-item ".concat(o?"complete":"current")},o&&w.a.createElement(Ir.a,null),!o&&c!==Er.b.FAILED&&w.a.createElement("div",{className:"flare-item"},w.a.createElement("div",{className:"flare"})),c===Er.b.FAILED&&w.a.createElement(Lr.a,null),w.a.createElement("span",null,"Checking Site Health"))))}}]),n}(C.Component),Ur=n(49);function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Gr=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project,status:e.wizard.status}}),{actionStopPollingProject:z.a.actionStopPollingProject,actionStartPollingProject:z.a.actionStartPollingProject,actionResetWizard:z.a.actionResetWizard})(function(e){m()(n,e);var t=Mr(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(p()(e),"timerRedirect",void 0),E()(p()(e),"state",{showSurvey:!1,showSurveySkip:!1,surveyActive:!1,preventCountdown:!1,countDown:5,showCountDown:!0,startTime:null}),E()(p()(e),"cancelCountdown",(function(){e.timerRedirect&&clearInterval(e.timerRedirect),e.setState({preventCountdown:!0})})),E()(p()(e),"buildFailed",(function(){Ue.b.push("/dashboard")})),E()(p()(e),"launchStudio",(function(t){e.timerRedirect&&clearInterval(e.timerRedirect);var n=e.props.project;Object(R.a)("Wizard Studio Launched",{launchType:t,previewUrl:"/studio/".concat(n.id)}),Ue.b.replace("/studio/".concat(n.id),{routeReferrer:"deploy-page",referrerType:Ur.a.WizardDeploy}),e.props.actionResetWizard()})),E()(p()(e),"surveyComplete",(function(){e.setState({surveyActive:!1,showCountDown:!0,showSurveySkip:!1},(function(){(Object(Er.Z)(e.props.project)||e.props.status.healthCheck)&&e.startCountdown()}))})),E()(p()(e),"surveySkip",(function(t){t?(Object(R.a)("Wizard Survey Skipped",{}),e.setState({surveyActive:!1,showCountDown:!0},(function(){(Object(Er.Z)(e.props.project)||e.props.status.healthCheck)&&e.startCountdown()}))):(Object(R.a)("Wizard Survey Unskipped",{}),e.setState({surveyActive:!0,showCountDown:!1}))})),E()(p()(e),"renderBuildFailed",(function(){var t=e.props.project,n=Object(Er.p)(t)===Er.b.FAILED,r=Object(Er.i)(t)===Er.a.BUILD_FAILED,a=null==t?void 0:t.buildMessage;return r?w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement(Ze.a,{text:"Build Failed",status:"failed",disabled:!1,submitting:!1,handleClick:function(){return e.buildFailed()}}),a&&w.a.createElement("div",{className:"build-progress-error"},w.a.createElement("pre",null,a))):n?w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement(Ze.a,{text:"Build Failed",disabled:!1,status:"failed",submitting:!1,handleClick:function(){return e.buildFailed()}})):null})),e}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n,r,a,i;O.a.debug("DeployPage Mount");var o,c,s=null===tt.a||void 0===tt.a||null===(e=tt.a.surveys)||void 0===e||null===(t=e.wizardSurvey)||void 0===t?void 0:t.enabled,l=null===tt.a||void 0===tt.a||null===(n=tt.a.surveys)||void 0===n||null===(r=n.wizardSurvey)||void 0===r?void 0:r.name,u=null===tt.a||void 0===tt.a||null===(a=tt.a.surveys)||void 0===a||null===(i=a.wizardSurvey)||void 0===i?void 0:i.repeat;if(En.c.getFeature(this.props.user,En.b.PROJECT_DEPLOYMENT_SHOW_SURVEY)&&s){var d,p,f,m=(null!==(d=null===(p=this.props)||void 0===p||null===(f=p.user)||void 0===f?void 0:f.surveys)&&void 0!==d?d:[]).find((function(e){return e.name===l}));m?m&&u&&this.setState({showSurvey:!0,showSurveySkip:!0,surveyActive:!0,showCountDown:!1}):this.setState({showSurvey:!0,showSurveySkip:!0,surveyActive:!0,showCountDown:!1})}else this.setState({showCountDown:!0});Object(Er.Z)(this.props.project)||this.props.status.healthCheck?this.startCountdown():null!==(o=this.props.project)&&void 0!==o&&o.id&&(this.props.actionStartPollingProject(null===(c=this.props.project)||void 0===c?void 0:c.id),this.setState({startTime:Date.now()}))}},{key:"componentDidUpdate",value:function(e){var t,n,r,a,i,o,c=e.status.healthCheck,s=this.props.status.healthCheck,l=null===(t=e.project)||void 0===t||null===(n=t.deploymentData)||void 0===n||null===(r=n.container)||void 0===r?void 0:r.healthy,u=null===(a=this.props.project)||void 0===a||null===(i=a.deploymentData)||void 0===i||null===(o=i.container)||void 0===o?void 0:o.healthy,d=Object(Er.p)(this.props.project)===Er.b.FAILED,p=Object(Er.i)(this.props.project)===Er.a.BUILD_FAILED;((d||p)&&this.props.actionStopPollingProject(),c!==s||l!==u)&&((Object(Er.Z)(this.props.project)||this.props.status.healthCheck)&&(this.props.actionStopPollingProject(),this.startCountdown()))}},{key:"componentWillUnmount",value:function(){this.timerRedirect&&clearInterval(this.timerRedirect)}},{key:"startCountdown",value:function(){var e=this;O.a.debug("Countdown Started");var t=this.state.startTime;if(Object(R.a)("Wizard Container Loaded",{loadTime:null===t?Date.now():Date.now()-t}),this.setState({startTime:null}),this.timerRedirect&&clearInterval(this.timerRedirect),!this.state.surveyActive&&!this.state.preventCountdown){this.setState({showSurveySkip:!1});this.timerRedirect=setInterval((function(){O.a.debug("Countdown",e.state.countDown),e.state.countDown<=1?e.launchStudio("redirect"):e.setState((function(e){return{countDown:e.countDown-1}}))}),1e3)}}},{key:"renderConfirmEmailBanner",value:function(){var e=this.props.user;return!En.c.getFeature(e,En.b.PROJECT_DEPLOYMENT_SHOW_VERIFY_EMAIL)||En.c.isEmailConfirmed(e)?null:w.a.createElement(zr.a,{className:"build-progress-verify-email",showResendButton:!1,title:"",description:function(e){return w.a.createElement("p",null,"Meanwhile, please follow the link we sent to ",w.a.createElement("strong",null,e)," to verify your email address.")},user:e})}},{key:"render",value:function(){var e=this,t=this.props.project,n=this.state,r=n.showCountDown,a=n.preventCountdown,i=n.countDown,o=n.showSurveySkip,c=n.showSurvey,s=Object(Er.Z)(t)||this.props.status.healthCheck,l=t.settings.autoTransferRepoEnabled;return w.a.createElement("div",{className:"wizard"},w.a.createElement(H,{pageName:"Building your Stackbit Website...",pageSubtitle:"This usually takes less than 60 seconds, the world record is 32 seconds."}),w.a.createElement("div",{className:"progress-box-build"},w.a.createElement("div",{className:"build-progress"},w.a.createElement("div",{className:"build-progress-name"},w.a.createElement("h3",null,t.name)),l&&w.a.createElement("div",{className:"build-progress-transfer"},w.a.createElement("h4",null,"Check your email for a repo transfer invitation from Github"),w.a.createElement("p",null,"To minimize the GitHub permissions we ask for, we create the website project repo on the Stackbit account and transfer its ownership to you.")),w.a.createElement(Tr,{project:t,healthy:s}),s&&w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement("button",{className:"button-flat",onClick:function(){return e.launchStudio("click")}},"Launch Stackbit ",r&&!a&&"(Takeoff in ".concat(i," seconds)"))),this.renderBuildFailed())),c&&w.a.createElement(Or,{showSkip:o,onSkip:this.surveySkip,onComplete:this.surveyComplete}),this.renderConfirmEmailBanner())}}]),n}(C.Component)),Fr=n(18),Wr=n(19),_r=n(72),Br=n(65);function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var qr=function(e){m()(n,e);var t=Vr(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(p()(r),"buildFailed",(function(){var e=r.props.project;Object(R.a)("Wizard Import Provisioning Failed",{},e),Object(R.a)("Wizard Import Provisioning Done",{},e),Ot.a.info("Deploy Preview Success",{containerUrl:Object(Er.q)(e)}),Ue.b.push("/dashboard")})),E()(p()(r),"launchStudio",(function(e){var t=r.props.project,n=r.state.startTime;if(n){var a=Date.now()-n;Object(R.a)("Wizard Container Loaded",{loadTime:a},t),r.setState({startTime:null})}Object(R.a)("Wizard Studio Launched",{launchType:e,previewUrl:"/studio/".concat(t.id)},t),r.props.setStudioMode({mode:Fr.d.CODE}),r.props.setActiveSidebarCodeTab({tab:Fr.c.LOGS}),r.props.toggleFetchProjectPoll({isPolling:!0}),r.props.setInitialProjectLoading({initialProjectLoading:!0}),r.props.actionResetWizard(),Ue.b.push("/studio/".concat(t.id),{routeReferrer:"deploy-page",referrerType:Ur.a.CustomThemeDeploy})})),E()(p()(r),"renderButtons",(function(){var e=r.props.project,t=Object(Er.p)(e)===Er.b.FAILED,n=Object(Er.i)(e)===Er.a.BUILD_FAILED,a=I.a.get(e,"buildMessage");return n?w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement(Ze.a,{text:"Build Failed",status:"failed",disabled:!1,submitting:!1,handleClick:function(){return r.buildFailed()}}),a&&w.a.createElement("div",{className:"build-progress-error"},w.a.createElement("pre",null,a))):t?w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement(Ze.a,{text:"Build Failed",disabled:!1,status:"failed",submitting:!1,handleClick:function(){return r.buildFailed()}})):null})),r.state={startTime:null},r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props.project.project,t=Object(Er.Z)(e)||this.props.status.healthCheck,n=Object(Er.p)(this.props.project);this.props.setProject({project:this.props.project}),n===Er.b.STARTING||t?this.launchStudio():(this.props.actionStartPollingProject(this.props.project.id),this.setState({startTime:Date.now()}))}},{key:"componentDidUpdate",value:function(e){var t=I.a.get(e,"healthy"),n=I.a.get(this.props,"healthy"),r=Object(Er.p)(e.project),a=Object(Er.p)(this.props.project);r!==a&&(a===Er.b.STARTING&&this.launchStudio(),Er.b.FAILED),t!==n&&n&&this.launchStudio()}},{key:"renderConfirmEmailBanner",value:function(){var e=this.props.user;return!En.c.getFeature(e,En.b.PROJECT_DEPLOYMENT_SHOW_VERIFY_EMAIL)||En.c.isEmailConfirmed(e)?null:w.a.createElement(zr.a,{className:"build-progress-verify-email",showResendButton:!1,title:"",description:function(e){return w.a.createElement("p",null,"Meanwhile, please follow the link we sent to ",w.a.createElement("strong",null,e)," to verify your email address.")},user:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.user,a=Object(Er.Z)(n)||this.props.status.healthCheck;return w.a.createElement("div",{className:"wizard"},w.a.createElement(H,{pageName:"Building your Stackbit Website...",pageSubtitle:"This usually takes less than 60 seconds, the world record is 32 seconds."}),w.a.createElement("div",{className:"progress-box-build"},w.a.createElement("div",{className:"build-progress"},w.a.createElement("div",{className:"build-progress-name"},w.a.createElement("h3",null,n.name)),w.a.createElement(Tr,{project:n,user:r}),a&&w.a.createElement("div",{className:"build-progress-footer"},w.a.createElement("button",{className:"button-flat",onClick:function(){return e.launchStudio("click")}},"Launch Stackbit")),this.renderButtons())),this.renderConfirmEmailBanner())}}]),n}(C.Component),Hr=Object(k.connect)((function(e){return{user:e.global.user,project:e.wizard.project,status:e.wizard.status}}),{actionResetWizard:z.a.actionResetWizard,actionStartPollingProject:z.a.actionStartPollingProject,setStudioMode:_r.j,setAppMode:_r.c,setActiveSidebarCodeTab:_r.b,setInitialProjectLoading:Br.d,setProject:Wr.w,toggleFetchProjectPoll:Br.e})(qr),Jr=n.p+"assets/images/jst-favicon.png",Zr=n(1007),Yr=n.n(Zr),Qr=n(1008),Kr=n.n(Qr),$r=n(1009),Xr=n.n($r),ea=n(467),ta=n.n(ea),na=(n(1010),{codesandbox:w.a.createElement(Yr.a,null),devto:w.a.createElement(Kr.a,null),netlify:w.a.createElement(Xr.a,null),medium:w.a.createElement(ta.a,null),jst:w.a.createElement("img",{src:Jr})}),ra={codesandbox:"CodeSandbox",devto:"DEV",netlify:"Netlify",medium:"Medium",jst:"jamstackthemes.dev"},aa=function(e){var t=e.referrer;return ra[t]?w.a.createElement("div",{className:"branding ".concat(t)},w.a.createElement("div",{className:"branding-icon"},na[t]),w.a.createElement("div",{className:"branding-title"},"Creating a ",ra[t]," Project")):null};n(1011);function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var oa=function(e){m()(r,e);var t,n=ia(r);function r(){var e;s()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),E()(p()(e),"state",{isLoading:!0}),e}return u()(r,[{key:"componentDidMount",value:(t=o()(a.a.mark((function e(){var t,n,r,i,o,c,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.projectId,r=t.containerId,i=t.buildStatus,o=t.initialCards,c=t.location,s=t.history,l=Object.fromEntries(new URLSearchParams(c.search)),O.a.debug("WizardLayout Mount",{path:c}),o){e.next=6;break}return e.next=6,this.props.actionCreateCards();case 6:if(n&&"/create"!==c.pathname){e.next=11;break}return e.next=9,this.props.actionCreateProject(l);case 9:return this.setState({isLoading:!1}),e.abrupt("return");case 11:if("building"!==i&&"deploying"!==i&&"live"!==i){e.next=16;break}return O.a.debug("Redirecting buildStatus is ".concat(i," - ").concat(r)),"sharedContainer"===r?s.push("/edit/".concat(n,"/deploy")):s.push("/edit/".concat(n,"/finish")),this.setState({isLoading:!1}),e.abrupt("return");case 16:if("failing"!==i&&"build-failed"!==i){e.next=20;break}return s.push("/dashboard"),this.setState({isLoading:!1}),e.abrupt("return");case 20:n&&"/create"!==c.pathname&&(O.a.debug("Loading existing project",n),s.push("/edit/summary"),this.setState({isLoading:!1}));case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.projectId,r=t.themeId,a=t.history,i=t.user;e.projectId!==n&&null!==n&&(O.a.debug("New project created",n,r),r?a.replace("/edit/summary"):a.replace("/edit/theme")),!i&&e.user&&(r?a.replace("/edit/summary"):a.replace("/edit/theme"))}},{key:"render",value:function(){var e=this.props,t=e.referrer,n=e.user,r=e.error,a=this.state.isLoading;return C.createElement("div",{className:"layout"},C.createElement(aa,{referrer:t}),C.createElement(P.a,{user:n}),C.createElement(j.d,null,a&&C.createElement(Xe,null),r&&C.createElement(Ke,null),C.createElement(j.b,{path:"/edit/theme/custom"},C.createElement(ze,null)),C.createElement(j.b,{path:"/edit/theme",render:function(e){return C.createElement(X,e)}}),C.createElement(j.b,{path:"/edit/ssg",render:function(e){return C.createElement(Ne,e)}}),C.createElement(j.b,{path:"/edit/cms",render:function(e){return C.createElement(Le,e)}}),C.createElement(j.b,{path:"/edit/deployment",render:function(e){return C.createElement(Te,e)}}),C.createElement(j.b,{path:"/edit/summary",render:function(){return C.createElement(br,null)}}),C.createElement(j.b,{path:"/edit/:id/deploy/custom"},C.createElement(Hr,null)),C.createElement(j.b,{path:"/edit/:id/deploy"},C.createElement(Gr,null)),C.createElement(j.b,{path:"/edit/:id/finish",render:function(e){return C.createElement(Je,e)}}),C.createElement(j.a,{from:"/edit",to:"/edit/summary"})))}}]),r}(C.Component);t.default=Object(k.connect)((function(e){var t,n,r,a,i;return{user:e.global.user,error:e.wizard.status.error,projectId:e.wizard.project.id,themeId:null===(t=e.wizard.project.wizard.theme)||void 0===t?void 0:t.id,containerId:null===(n=e.wizard.project.wizard)||void 0===n||null===(r=n.container)||void 0===r?void 0:r.id,referrer:null===(a=e.wizard.project.wizard.settings)||void 0===a?void 0:a.referrer,buildStatus:null===(i=e.wizard.project)||void 0===i?void 0:i.buildStatus,initialCards:e.wizard.initialCards}}),{actionCreateProject:z.a.actionCreateProject,actionResetWizard:z.a.actionResetWizard,actionCreateCards:z.a.actionCreateCards})(oa)},414:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t={width:Math.floor(.7*window.outerWidth),height:Math.floor(.7*window.outerHeight)};t.width<1e3&&(t.width=1e3),t.height<630&&(t.height=630),t.left=Math.floor(window.screenX+(window.outerWidth-t.width)/2),t.top=Math.floor(window.screenY+(window.outerHeight-t.height)/8);var n=-1!==e.indexOf("?")?"&":"?",r="".concat(e).concat(n),a="toolbar=0,scrollbars=1,status=1,resizable=1,location=1,menuBar=0,\n    width=".concat(t.width,",height=").concat(t.height,",\n    left=").concat(t.left,",top=").concat(t.top),i=window.open(r,"_blank",a);return new Promise((function(e,t){var n=setInterval((function(){i.closed&&(e(),clearInterval(n))}),50)}))}},415:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"b",(function(){return w}));var r=n(10),a=n.n(r),i=n(59),o=n(20),c=n.n(o),s=n(462),l=n.n(s),u=n(15),d=n(5),p=n(414),f=n(82);function m(){return Object(d.a)("/auth/github/installations").then((function(e){return e})).catch((function(e){throw e}))}function h(e){var t,n=null==e||null===(t=e.connections)||void 0===t?void 0:t.find((function(e){return"github-app"===e.type}));return null!=n&&n.accessToken?Object(d.a)("/auth/github/my"):Promise.reject("Github isn't connected")}function g(e,t,n){var r=t.install,a=(t.scope,t.allowConnectionOnly),o=i.stringify({token:e,install:r,allowConnectionOnly:a,tosVersion:n,initialReferrer:JSON.stringify(f.a.getInitialReferrer())});o&&(o="?".concat(o));var c=u.a.api.base_url+"/auth/github-app"+o;return Object(p.a)(c)}function v(){return Object(p.a)("https://github.com/settings/apps/authorizations")}function y(){var e="".concat(u.a.api.base_url,"/auth/github-app?install=true&forceInstall=true&allowConnectionOnly=true");return Object(p.a)(e)}function b(e,t,n){var r=[],i=1;return function e(){return c()({url:"https://api.github.com/user/installations/".concat(n,"/repositories"),method:"get",params:{per_page:100,page:i},headers:{Accept:"application/vnd.github.machine-man-preview+json",Authorization:"token ".concat(t)}}).then((function(t){r.push.apply(r,a()(t.data.repositories));var n=l()(t.headers.link);return n&&n.next?(i++,e()):r})).catch((function(e){throw e}))}()}function E(e,t,n){return c()({url:"https://api.github.com/repos/".concat(e,"/collaborators/").concat(t),method:"get",headers:{Accept:"application/vnd.github.machine-man-preview+json",Authorization:"token ".concat(n)}}).then((function(e){return!0})).catch((function(){return!1}))}var C=function(e){return new RegExp("^(?:git|https?|git@)(?:\\:\\/\\/)?github.com[/|:][A-Za-z0-9-]+?\\/[\\w\\.-]+\\/?(?!=.git)(?:\\.git(?:\\/?|\\#[\\w\\.\\-_]+)?)?$").test(e)},w=function(e){var t,n,r=e.match(/github\.com[/:](.+?)\/(.+?)(\.git)?$/);return{owner:null!==(t=null==r?void 0:r[1])&&void 0!==t?t:"",repo:null!==(n=null==r?void 0:r[2])&&void 0!==n?n:""}}},416:function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r=n(1),a=n.n(r),i=n(14),o=n.n(i),c=n(21),s=n.n(c),l=n(0),u=n.n(l),d=n(129),p=n.n(d),f=n(490),m=n(46),h=n.n(m),g=n(580),v=n.n(g),y=n(588),b=n.n(y),E=n(451),C=n.n(E),w=n(15),k=n(424),j=n(415);function S(e){var t,n,r,a,i=!1;return"codesandbox"!==(null===(t=e.wizard.settings)||void 0===t?void 0:t.referrer)&&"devto"!==(null===(n=e.wizard.settings)||void 0===n?void 0:n.referrer)||(i=!0),"netlifycms"===(null===(r=e.wizard.cms)||void 0===r?void 0:r.id)&&(i=!0),"digitalocean"===(null===(a=e.wizard.deployment)||void 0===a?void 0:a.id)&&(i=!0),i}function O(e){var t,n=!1;return"codesandbox"===(null===(t=e.wizard.settings)||void 0===t?void 0:t.referrer)&&(n=!0),n}function z(e){var t,n,r=!1;null!==(t=e.wizard.settings)&&void 0!==t&&t.githubUser&&(r=null===(n=e.wizard.settings)||void 0===n?void 0:n.githubUser);return r}function P(e){var t,n,r,a=!1;return"codesandbox"!==(null===(t=e.wizard.settings)||void 0===t?void 0:t.referrer)&&"devto"!==(null===(n=e.wizard.settings)||void 0===n?void 0:n.referrer)||(a=!0),"datocms"===(null===(r=e.wizard.cms)||void 0===r?void 0:r.id)&&(a=!0),a?(u.a.set(e,"wizard.container",{}),u.a.set(e,"wizard.deployment",{id:"netlify"})):u.a.set(e,"wizard.container.id","sharedContainer"),e}function R(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.connections,a=!0;"advanced"===u.a.get(r,"repository.githubPermissions")&&(a=!1,"azure"===(null===(t=e.wizard.deployment)||void 0===t?void 0:t.id)&&(a=!0));return u.a.set(e,"wizard.repository.settings.sharedUser",a),e}function N(e){var t,n=null===(t=e.wizard.ssg)||void 0===t?void 0:t.id,r=e.wizard.deployment.id;"azure"===r?u.a.set(e,"wizard.settings.enableWidget","hugo"!==n):"digitalocean"===r?u.a.set(e,"wizard.settings.enableWidget",["gatsby","nextjs"].includes(n)):u.a.set(e,"wizard.settings.enableWidget",!1)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cards,r=u.a.get(e,"wizard.theme.id"),a=u.a.get(e,"wizard.ssg.id"),i="custom"===r,o=u.a.get(e,"wizard.theme.settings.analyzedConfig.ssg.ssgName"),c=u.a.get(e,"wizard.theme.settings.analyzedConfig.cms.cmsName");if(!i)return"custom"===a&&u.a.set(e,"wizard.ssg",{}),e;if(i){var s,l=["jekyll","hugo","gatsby","nextjs","eleventy","vuepress","gridsome","nuxt","sapper","hexo"],d=["contentful","sanity","git"];if(l.includes(o)&&u.a.set(e,"wizard.ssg",{id:o}),d.includes(c)){var p=n.cms.find((function(e){return e.id===c}));u.a.set(e,"wizard.cms.id",p.id),u.a.set(e,"wizard.cms.title",p.title)}else u.a.set(e,"wizard.cms",{id:"git"});"azure"===(null===(s=e.wizard.deployment)||void 0===s?void 0:s.id)&&(u.a.set(e,"wizard.deployment.id","netlify"),u.a.set(e,"wizard.settings.allowDeploymentSelection",!0))}return e}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cards;Object.keys(e.wizard).forEach((function(t){var r;n[t]&&(e.wizard[t].title=null===(r=n[t].find((function(n){return n.id===e.wizard[t].id})))||void 0===r?void 0:r.title)}))}function L(e){Object.keys(e.wizard).forEach((function(t){var n=u.a.get(e,"wizard.".concat(t,".id"),null);if(n){var r=u.a.get(w.a,"wizard.matrix.".concat(t,".").concat(n),null);r&&Object.entries(r).forEach((function(t){var r=h()(t,2),a=r[0],i=r[1],o=u.a.get(e,"wizard.".concat(a,".id"));i.includes(o)&&(p.a.debug("Disabling ".concat(o,", incompatible with ").concat(n)),u.a.set(e,"wizard.".concat(a),{}))}))}}))}function x(){return A.apply(this,arguments)}function A(){return(A=s()(o.a.mark((function e(){var t,n,r,a,i,c,s,l,d,p,f,m,h,g,v,y,E=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E.length>0&&void 0!==E[0]?E[0]:{},a=E.length>1&&void 0!==E[1]?E[1]:{},i=a.user,c=a.initialCards,e.next=6,Object(k.b)();case 6:return s=e.sent,l=s.id,d=s.token,p={id:l,name:b.a.generate(),wizard:{theme:Object(k.c)("theme",r.theme),ssg:Object(k.c)("ssg",r.ssg),cms:Object(k.c)("cms",r.cms),repository:Object(k.c)("repository",r.repository),deployment:Object(k.c)("deployment",r.deployment),container:Object(k.c)("container",r.container)}},r.theme&&((f=u.a.find(c.theme,{id:r.theme}))&&(u.a.set(p,"wizard.theme",{id:f.id}),u.a.set(p,"wizard.theme.settings",{source:f.data.source})),f||(m=C()(r.theme,{forceHttps:!0}),Object(j.g)(m)?(u.a.set(p,"wizard.theme",{id:"custom"}),u.a.set(p,"wizard.theme.settings",{source:m,branch:r.themeBranch?r.themeBranch:null}),r.ssg||u.a.set(p,"wizard.ssg",{}),r.ssg||u.a.set(p,"wizard.cms",{})):u.a.set(p,"wizard.theme",{}))),r.cmsExclusive&&(["1","true"].includes(r.cmsExclusive)?r.cms&&u.a.set(p,"wizard.settings.cmsExclusive",[r.cms]):r.cmsExclusive&&(h=r.cmsExclusive.split(","),u.a.set(p,"wizard.settings.cmsExclusive",h),r.cms||u.a.set(p,"wizard.cms",h[0]))),r.ssgExclusive&&(["1","true"].includes(r.ssgExclusive)?r.ssg&&u.a.set(p,"wizard.settings.ssgExclusive",[r.ssg]):r.ssgExclusive&&(g=r.ssgExclusive.split(","),u.a.set(p,"wizard.settings.ssgExclusive",g),r.ssg||u.a.set(p,"wizard.ssg",g[0]))),r.ref&&u.a.set(p,"wizard.settings.referrer",r.ref),"codesandbox"===r.ref&&(r.githubUser&&u.a.set(p,"wizard.settings.githubUser",r.githubUser),u.a.set(p,"wizard.ssg",{id:"gatsby"}),u.a.set(p,"wizard.cms",{id:"git"}),u.a.set(p,"wizard.settings.ssgExclusive",["gatsby"]),u.a.set(p,"wizard.settings.cmsExclusive",["git"])),"devto"===r.ref&&(u.a.set(p,"wizard.theme",{id:"fjord"}),u.a.set(p,"wizard.theme.settings",null===(v=c.theme.find((function(e){return"fjord"===e.id})))||void 0===v?void 0:v.data),u.a.set(p,"wizard.ssg",{id:"hugo"}),u.a.set(p,"wizard.cms",{id:"devto"}),u.a.set(p,"wizard.settings.cmsExclusive",["devto"]),u.a.set(p,"importData.dataType","devto")),"netlify"===r.deployment&&(u.a.set(p,"wizard.deployment",{id:"netlify"}),u.a.set(p,"wizard.settings.allowDeploymentSelection",!0)),"azure"===r.deployment&&(u.a.set(p,"wizard.deployment",{id:"azure"}),u.a.set(p,"wizard.settings.deploymentExclusive",["azure"]),u.a.set(p,"wizard.settings.allowDeploymentSelection",!0)),"azuremarketplace"===r.ref&&u.a.set(p,"wizard.deployment.settings.marketplaceReferrer",!0),y=null==i||null===(t=i.preferences)||void 0===t||null===(n=t.exclusivePlatforms)||void 0===n?void 0:n.find((function(e){return"digitalocean"===e.type})),("digitalocean"===r.deployment||"digitalocean"===r.ref||y)&&(u.a.set(p,"wizard.deployment",{id:"digitalocean"}),u.a.set(p,"wizard.settings.deploymentExclusive",["digitalocean"]),u.a.set(p,"wizard.settings.allowDeploymentSelection",!0)),r.trialTierId&&u.a.set(p,"subscription.tierId",r.trialTierId),L(p),I(p,{cards:c}),D(p,{cards:c}),P(p),R(p),N(p),u.a.set(p,"wizard.settings.isAnnotationBased",!0),e.abrupt("return",{project:p,token:d});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=u.a.cloneDeep(t);return Object.keys(e).forEach((function(t){u.a.set(a,"".concat(t),e[t])})),L(a),I(a,{cards:r}),D(a,{cards:r}),P(a),R(a,{connections:n}),N(a),u.a.cloneDeep(a)}function U(e,t){var n=u.a.cloneDeep(t),r="custom"===u.a.get(e,"wizard.theme.id"),a={};["theme","ssg","cms","deployment"].forEach((function(e){n[e].forEach((function(e){a[e.id]=e,a[e.id].disabled=!1,a[e.id].disabledReason=[]}))}));if(["theme","ssg","cms","deployment"].forEach((function(t){var n=u.a.get(e,"wizard.".concat(t,".id"),null);u.a.get(w.a,"wizard.matrix.".concat(n),[]).forEach((function(e){a[e].disabled=!0,"digitalocean"===n?a[e].disabledReason.push("Coming Soon!"):a[e].disabledReason.push("".concat(u.a.capitalize(e)," is not compatible with ").concat(u.a.capitalize(n)))}))})),"devto"===u.a.get(e,"wizard.settings.referrer")&&(a.devto.hidden=!1),r){var i=u.a.get(e,"wizard.theme.settings.analyzedConfig.ssg.ssgName");if(i)if("custom"===i)n.ssg.forEach((function(e){i!==e.id&&(e.disabled=!1,e.hidden=!1)}));else if("unibit"===i){var o=u.a.get(e,"wizard.theme.settings.themeConfig.stackbitVersion").replace("~","");v.a.clean(o),v.a.lt(o,"0.3.0")&&n.ssg.forEach((function(e){"nextjs"===e.id&&(e.disabled=!0)}))}else n.ssg.forEach((function(e){i!==e.id&&(e.disabled=!0)}));else n.ssg.forEach((function(e){i!==e.id&&(e.disabled=!1,e.hidden=!1)}))}var c=u.a.get(e,"wizard.settings.cmsExclusive",null);c&&n.cms.forEach((function(e){c.includes(e.id)||(e.disabled=!0)}));var s=u.a.get(e,"wizard.settings.ssgExclusive",null);return s&&n.ssg.forEach((function(e){s.includes(e.id)||(e.disabled=!0)})),n}function M(e){return{advancedGithubPermissionsRequired:S(e),publicRepoRequired:O(e),matchGithubUsername:z(e)}}var G=n(427),F=n(26),W=n(417),_=n(58),B=n(363),V=n(11),q=n(6),H=n(428),J=n(64);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=null,K=function(){return function(){var e=s()(o.a.mark((function e(t,n){var r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().wizard,a=r.project,i=r.token,t({type:"DEPLOY_PROJECT_STARTED",data:{status:{registerOverlay:!1,isSubmitting:!0,connectGithubAndCreateSite:!1}}}),e.prev=2,delete a.id,e.next=6,Object(F.A)(a,i);case 6:return c=e.sent,p.a.debug("Deployed Project",c),t({type:"DEPLOY_PROJECT_SUCCEED",data:{project:c,status:{isSubmitting:!1}}}),Object(W.a)("Wizard Project Deployed",{}),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(2),t({type:"DEPLOY_PROJECT_FAILURE",data:{status:{error:Object(f.serializeError)(e.t0),isSubmitting:!1}}}),Object(W.a)("Wizard Project Deploy Error",{error:null===e.t0||void 0===e.t0?void 0:e.t0.message}),p.a.debug(Object(f.serializeError)(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}()},$=function(){return function(e,t){var n,r,a,i,o,c,s=t().wizard,l=s.project,u=s.connections,d=s.status,p=d.requirements,f={theme:{valid:!(null==u||null===(n=u.theme)||void 0===n||!n.valid),required:!0},ssg:{valid:!(null==u||null===(r=u.ssg)||void 0===r||!r.valid),required:!0},cms:{valid:!(null==u||null===(a=u.cms)||void 0===a||!a.valid),required:!0},deployment:{valid:"digitalocean"===u.deployment.id?!(!d.digitaloceanIsChecked||!u.deployment.valid):!!u.deployment.valid,required:!["netlify","container"].includes(null===(i=l.wizard.deployment)||void 0===i?void 0:i.id)},repository:{valid:!(null==u||null===(o=u.repository)||void 0===o||!o.valid),required:"digitalocean"===(null===(c=l.wizard.deployment)||void 0===c?void 0:c.id)||p.advancedGithubPermissionsRequired},name:{valid:Object(k.e)(l.name),required:!0}},m=Object.keys(f).every((function(e){return!f[e].required||f[e].valid})),h=Object(H.h)(l),g=Object(H.i)(l,p);return e({type:"VALIDATE_WIZARD",data:{status:{valid:m,validations:f,repositoryCardEnabled:g,deploymentCardEnabled:h}}}),m}},X=function(e){return function(t){t({type:"UPDATE_WIZARD_STATUS",data:{status:e}})}},ee=function(){return function(e){e({type:"POLL_PROJECT_STOP"}),clearInterval(Q)}},te={actionResetWizard:function(){return function(e){e({type:"RESET_WIZARD"}),e(ee())}},actionCreateProject:function(e){return function(){var t=s()(o.a.mark((function t(n,r){var a,i,c,s,l,u,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().global.user,i=r().wizard.initialCards,n((function(e){e({type:"SOFT_RESET_WIZARD"}),e(ee())})),t.prev=3,n({type:"CREATE_PROJECT_STARTED"}),t.next=7,x(e,{user:a,initialCards:i});case 7:c=t.sent,s=c.project,l=c.token,n({type:"CREATE_PROJECT_SUCCEED",data:{token:l,project:s}}),u=U(s,i),n({type:"UPDATE_CARDS",data:{cards:u}}),d=M(s),n({type:"UPDATE_REQUIREMENTS",data:{requirements:d}}),Object(W.a)("Wizard Project Created",{initialParams:e}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),n({type:"CREATE_PROJECT_FAILED"}),V.a.error("Wizard failed to create project",t.t0);case 22:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e,n){return t.apply(this,arguments)}}()},actionDeployProject:K,actionCreateCards:function(){return function(){var e=s()(o.a.mark((function e(t){var n,r,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CREATE_CARDS_STARTED"}),n={},r=["cms","ssg","theme","repository","deployment","jamstackthemes"],e.prev=3,a=0,i=r;case 5:if(!(a<i.length)){e.next=13;break}return c=i[a],e.next=9,Object(G.b)(c);case 9:n[c]=e.sent;case 10:a++,e.next=5;break;case 13:return s=u.a.cloneDeep(n),t({type:"CREATE_CARDS_SUCCEED",data:{cards:n,initialCards:s}}),e.abrupt("return",s);case 18:e.prev=18,e.t0=e.catch(3),t({type:"CREATE_CARDS_FAILED"}),V.a.error("Wizard failed to create cards",e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()},actionUpdateProjectLayer:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,a){var i=a().wizard,o=i.initialCards,c=i.project,s=i.connections,l={};l["wizard.".concat(e,".id")]=t.id,l["wizard.".concat(e,".settings")]=n;var u=T(l,c,s,o);r({type:"UPDATE_PROJECT_CARD",data:{project:u}}),r({type:"UPDATE_CARDS",data:{cards:U(u,o)}}),r({type:"UPDATE_REQUIREMENTS",data:{requirements:M(u)}})}},actionUpdateProjectName:function(e){var t=e.name;return function(e){e({type:"UPDATE_PROJECT_NAME",data:{name:t}})}},actionUpdateConnection:function(e,t){return function(n){n({type:"SET_CONNECTION",data:{connection:a()({},e,Y({},t))}})}},actionUpdateStatus:X,actionValidateWizard:$,actionStopPollingProject:ee,actionStartPollingProject:function(e){return function(t){var n=!1;t({type:"POLL_PROJECT_START"}),Q=setInterval((function(){return Object(F.l)(e).then((function(e){if(t({type:"POLL_PROJECT",data:{project:e}}),Object(q.Z)()||n)return p.a.debug("Project Poll: Project is healthy"),void t(ee());!u.a.get(e,"project.deploymentData.container.buildProgress","").startsWith("provisioningCms")&&u.a.get(e,"deploymentData.container.url")&&(p.a.debug("Project Poll: Healthcheck"),Object(F.o)(e,{warmup:!0}).then((function(e){n=e,t({type:"UPDATE_HEALTHCHECK",data:{status:{healthCheck:e}}})})).catch((function(){n=!1,t({type:"UPDATE_HEALTHCHECK",data:{status:{healthCheck:!1}}})}))),"building"!==e.buildStatus&&"deploying"!==e.buildStatus&&"live"!==e.buildStatus||p.a.debug("Project Poll: Repoll")})).catch((function(e){p.a.debug("Project Poll: Failed",e),t(ee())}))}),3e3)}},actionTriggerDeploy:function(){return function(){var e=s()(o.a.mark((function e(t,n){var r,a,i,c,l,u,d,f,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.a.debug("actionTriggerDeploy"),a=n().global.user,i=n().wizard,i.project,c=i.connections,l=i.status,u=l.requirements,t({type:"TRIGGER_DEPLOY"}),t($())){e.next=8;break}return e.abrupt("return",!1);case 8:if(_.c.isRegistered(a)){e.next=11;break}return t(X({registerOverlay:!0})),e.abrupt("return",!1);case 11:if(t(function(){var e=s()(o.a.mark((function e(t,n){var r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().global.user,i=null===(r=n().wizard.project.wizard.settings)||void 0===r?void 0:r.referrer,!a||"digitalocean"!==i){e.next=9;break}return e.next=5,_.c.updatePlatformExclusivePreferences(i,a);case 5:return e.next=7,_.c.fetchCurrentUser();case 7:c=e.sent,t(Object(J.b)({user:c}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d="github"===(null===(r=c.repository)||void 0===r?void 0:r.id),null==u||!u.advancedGithubPermissionsRequired||d){e.next=15;break}return e.abrupt("return",!1);case 15:return e.prev=15,e.next=18,t(K());case 18:if(m=e.sent,"sharedContainer"===(null===(f=m.wizard.container)||void 0===f?void 0:f.id)){e.next=22;break}return e.abrupt("return",B.b.replace("/edit/".concat(m.id,"/finish")));case 22:if(!("custom"===m.wizard.theme.id)){e.next=25;break}return e.abrupt("return",B.b.replace("/edit/".concat(m.id,"/deploy/custom")));case 25:return e.abrupt("return",B.b.replace("/edit/".concat(m.id,"/deploy")));case 28:return e.prev=28,e.t0=e.catch(15),e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e,null,[[15,28]])})));return function(t,n){return e.apply(this,arguments)}}()}}},417:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(77),s=n(82);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n,r,a,i,l,d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=Object(c.b)().getState().global.user,f=Object(c.b)().getState().wizard.project,m=o.a.pick(f,["wizard.theme.settings.source","wizard.theme.settings.stackbitYmlFound","wizard.theme.settings.stackbitYmlValid","wizard.theme.settings.themeConfig.stackbitVersion","wizard.theme.settings.themeConfig.ssgName","wizard.theme.settings.themeConfig.cmsName","wizard.theme.settings.themeConfig.import.type","wizard.theme.settings.analyzedConfig.ssg.ssgName","wizard.theme.settings.analyzedConfig.cms.cmsName","wizard.settings","settings","name"]),h={theme:null===(n=f.wizard.theme)||void 0===n?void 0:n.id,ssg:null===(r=f.wizard.ssg)||void 0===r?void 0:r.id,cms:null===(a=f.wizard.cms)||void 0===a?void 0:a.id,deploymentType:null===(i=f.wizard.deployment)||void 0===i?void 0:i.id,containerType:null===(l=f.wizard.container)||void 0===l?void 0:l.id,project:m},g=u(u({userId:p?p.id:null,projectId:f?f.id:null},d&&h),t);s.a.track(e,g)}},420:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n(20),a=n.n(r),i=n(59),o=n(15),c=n(414),s=n(11),l=n(5),u=n(82);function d(e){return e&&e.connections&&e.connections.find((function(e){return"netlify"===e.type}))?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get";return a()({method:r,url:o.a.netlify.apiBaseUrl+e,data:n,headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data})).catch((function(e){var t=e.response||e;throw s.a.error("Netlify Api Fetch Error",{error:t}),e}))}("/user",e.connections.find((function(e){return"netlify"===e.type})).accessToken):Promise.reject()}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowConnectionOnly,r=void 0===n||n,a=i.stringify({tosVersion:e,allowConnectionOnly:r,initialReferrer:JSON.stringify(u.a.getInitialReferrer())});return Object(c.a)("".concat(o.a.api.base_url,"/auth/netlify?").concat(a))}function f(e){return Object(l.a)("/project/import-netlify-site",{site:e},"post")}function m(){return Object(l.a)("/netlify/sites")}function h(e){return fetch(e).then((function(e){return e.json?e.json():e})).then((function(e){return Object.values(e)}))}},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v}));var r=n(14),a=n.n(r),i=n(21),o=n.n(i),c=n(0),s=n.n(c),l=n(452),u=n(15),d=n(26);function p(e){return e.toLowerCase().trim().replace(/[\s]/gi,"-").replace(/[^0-9a-z-]/gi,"").replace(/(-+)/gi,"-").replace(/^(-+)/gi,"")}function f(e,t){var n=e.id.toString().substr(3,5),r=p(t||e.name);return r.endsWith("-")&&(r=r.slice(0,-1)),"".concat(r,"-").concat(n)}function m(e){return!!e&&!s.a.isEmpty(p(e))}function h(){return g.apply(this,arguments)}function g(){return(g=o()(a.a.mark((function e(){var t,n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.r)();case 2:return t=e.sent,n=t.projectIdToken,r=Object(l.a)(n),i=r.projectId,o=n,e.abrupt("return",{id:i,token:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return{theme:["diy","starter","planty","azimuth","exto","ampersand","fjord","fresh","vanilla","libris","startup","personal","podcaster","book","app","agency","event"],ssg:["gatsby","nextjs","jekyll","hugo"],cms:["sanity","contentful","git","datocms","forestry","netlifycms"],repository:["github"],deployment:["netlify","azure","digitalocean"],container:["netlify","sharedContainer","container"]}[e].includes(t)?{id:t}:{id:u.a.wizard.layerDefaults[e]||null}}},427:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n(14),a=n.n(r),i=n(21),o=n.n(i),c=n(491),s=n(133),l=n(134),u=n(492),d=n(493),p=n(494),f=n(495);function m(e){switch(e){case"theme":return Object(c.b)(f);case"jamstackthemes":return Object(c.a)();case"ssg":return Promise.resolve(s);case"cms":return Promise.resolve(l);case"repository":return Promise.resolve(u);case"deployment":return Promise.resolve(d);case"container":return Promise.resolve(p);default:return[]}}function h(e,t){return g.apply(this,arguments)}function g(){return(g=o()(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return r=e.sent,(i=r.find((function(e){return e.id===n})))&&i.data&&(i.settings=i.data),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(0))},428:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),i=n(129),o=n.n(i),c=(n(452),n(15)),s=n(77),l=n(427),u=n(58);function d(e){return Object(l.b)("theme").then((function(t){if(function(e){return"custom"===a.a.get(e,"wizard.theme.id")}(e)){var n=a.a.get(e,"wizard.theme.settings.status"),r=a.a.find(n,{step:"validation"});return a.a.get(r,"params.modelsCount")}var i=a.a.get(e,"wizard.theme.id"),c=a.a.find(t,["id",i]),s=a.a.get(c,"maxNumOfModels");return o.a.debug("get theme models count",s),s}))}function p(e,t){return"custom"===e?a.a.get(t,"image")||"https://assets.stackbit.com/wizard/theme/custom.png":a.a.get(t,"images.screenshot","https://assets.stackbit.com/wizard/theme/empty-thumb.svg")}function f(e,t){return a.a.get(t,"description")}function m(){var e=Object(s.b)().getState().wizard.project,t=a.a.get(e,"wizard.settings.ssgExclusive",[]),n=a.a.get(e,"wizard.ssg.id"),r="custom"===a.a.get(e,"wizard.theme.id"),i=1===t.length&&t.includes(n);if(r){var o=a.a.get(e,"wizard.theme.settings.analyzedConfig.ssg.ssgName");if("unibit"===o)return i;i=!("custom"===o||!o)}return i}function h(){var e=Object(s.b)().getState().wizard.project,t=a.a.get(e,"wizard.settings.cmsExclusive",[]),n=a.a.get(e,"wizard.cms.id"),r="custom"===a.a.get(e,"wizard.theme.id"),i=1===t.length&&t.includes(n);if(r){var o=a.a.get(e,"wizard.theme.settings.analyzedConfig.ssg.ssgName"),c=a.a.get(e,"wizard.theme.settings.analyzedConfig.cms.cmsName");if("unibit"===o)return i;i=c===n||"git"===n}return i}function g(e){var t,n=(null===(t=e.wizard.settings)||void 0===t?void 0:t.deploymentExclusive)||[],r=e.wizard.deployment.id;return 1===n.length&&n.includes(r)}function v(e){var t;return null===(t=e.wizard.settings)||void 0===t?void 0:t.allowDeploymentSelection}function y(e,t){var n=Object(s.b)().getState().global.user;return u.c.isRegistered(n)||(null==t?void 0:t.advancedGithubPermissionsRequired)}var b=function(e){return new Promise((function(t){var n=c.a.wizard.aliasedSources[e];n&&t(n),t(!1)}))}},436:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return z})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return L}));var r=n(1),a=n.n(r),i=n(7),o=n.n(i),c=n(17),s=n.n(c),l=n(59),u=n(463),d=n.n(u),p=n(20),f=n.n(p),m=n(0),h=n.n(m),g=n(15),v=n(414),y=n(5),b=n(70),E=n(11),C=n(58),w=n(82);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,O="https://www.googleapis.com/auth/drive.readonly";function z(e,t,n){var r=l.stringify({scope:e,tosVersion:t,userGroup:n,initialReferrer:JSON.stringify(w.a.getInitialReferrer())});return Object(v.a)("".concat(g.a.api.base_url,"/auth/google?").concat(r))}var P=!1;function R(e){return(S=S||(P?Promise.resolve():new Promise((function(e){return d()("https://apis.google.com/js/api.js",(function(){P=!0,e()}))})))).then((function(){return new Promise((function(t){return window.gapi.load(e,t)}))}))}function N(e){return f()({url:"https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=".concat(e)}).then((function(e){return e.data})).catch((function(e){if(400===h.a.get(e,"response.status"))return null;var t=e.response||e;throw E.a.error("Google Api Fetch Error",{error:t}),e}))}function I(e,t){var n=h.a.get(e,"scope","").split(" ");return(t||[]).every((function(e){return n.includes(e)}))}function D(){return Object(y.a)("/auth/google/refresh").then((function(){return b.a.refreshAuth()}))}var L=new(function(){function e(){var t=this;o()(this,e),b.a.onAuthChanged((function(e){return t.user=e}))}return s()(e,[{key:"getToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=C.c.getConnection(this.user,"google");if(!r)return Promise.reject("No google connection for current user");if(Array.isArray(t)||(t=[t]),this.token){if(I(this.token,t)){var a=this.token.expires_in;return(!a||a<300)&&n?D().then((function(){return e.getToken(t,!1)})):Promise.resolve(j({accessToken:r.accessToken},this.token))}return Promise.resolve(null)}return N(r.accessToken).then((function(t){if(!t)return D();e.token=t})).then((function(){return e.getToken(t,!1)}))}}]),e}())},440:function(e,t,n){"use strict";var r=n(3),a=n.n(r),i=n(37),o=n.n(i),c=n(435),s=n(15),l=n(82),u=(n(461),function(e){return a.a.createElement("div",{className:"terms"},a.a.createElement("input",{type:"checkbox",className:"styled-checkbox terms-checkbox-email",id:"terms-checkbox",checked:e.tosAgree,onChange:function(t){l.a.track("".concat(e.place," Terms ").concat(t.target.checked?"Checked":"Unchecked"),e.analytics),e.handleOnChange(t)},name:"tosAgree"}),a.a.createElement("label",{id:"terms-checkbox-label-email",htmlFor:"terms-checkbox"},a.a.createElement("span",null,"I agree to the"," ",a.a.createElement("a",{href:"".concat(s.a.marketingSite.tos_url),target:"_blank",rel:"noopener noreferrer",onClick:function(){return l.a.track("".concat(e.place," Terms Clicked"),e.analytics)}},"Terms")," ","and"," ",a.a.createElement("a",{href:"".concat(s.a.marketingSite.license_url),target:"_blank",rel:"noopener noreferrer",onClick:function(){return l.a.track("".concat(e.place," License Agreement Clicked"),e.analytics)}},"License Agreement"))),e.tosError&&a.a.createElement("span",{className:"tos-error"},a.a.createElement(c.a,{icon:"exclamation-circle",className:""})))});u.propTypes={tosAgree:o.a.bool.isRequired,tosError:o.a.bool},u.defaultProps={tosError:!1},t.a=u},442:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return N})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return L}));var r=n(46),a=n.n(r),i=n(1),o=n.n(i),c=n(14),s=n.n(c),l=n(21),u=n.n(l),d=n(20),p=n.n(d),f=n(0),m=n.n(f),h=n(59),g=n(15),v=n(414),y=n(82),b=n(11);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return k.apply(this,arguments)}function k(){return(k=u()(s.a.mark((function e(t,n,r){var a,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>3&&void 0!==c[3]?c[3]:"get",n&&n.connections&&n.connections.find((function(e){return"contentful"===e.type}))){e.next=3;break}return e.abrupt("return",Promise.reject());case 3:return i=n.connections.find((function(e){return"contentful"===e.type})),e.prev=4,e.next=7,p()({method:a,url:g.a.contentful.apiBaseUrl+t,data:r,headers:{Authorization:"Bearer ".concat(i.accessToken),"Content-Type":"application/vnd.contentful.management.v1+json","x-contentful-enable-alpha-feature":"subscriptions-api"}});case 7:return e.abrupt("return",e.sent.data);case 10:throw e.prev=10,e.t0=e.catch(4),o=e.t0.response||e.t0,b.a.error("Contentful Api Fetch Error",{error:o}),e.t0;case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function j(e){return w("/token",e)}function S(e,t){return O.apply(this,arguments)}function O(){return(O=u()(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("/organizations",t).then((function(e){return Promise.all(e.items.map((function(e){return Promise.all([w("/organizations/".concat(e.sys.id,"/resources/free_space"),t).catch((function(r){return y.a.track("Contentful: Failed querying free space",{error:r,orgId:e.sys.id,projectId:n.id,userId:t.id}),null})),w("/organizations/".concat(e.sys.id,"/plans?plan_type=base"),t).catch((function(r){return y.a.track("Contentful: Failed querying plan_type",{error:r,orgId:e.sys.id,projectId:n.id,userId:t.id}),null})),w("/organizations/".concat(e.sys.id,"/product_rate_plans?plan_type=base"),t).catch((function(r){return y.a.track("Contentful: Failed querying plan_type",{error:r,orgId:e.sys.id,projectId:n.id,userId:t.id}),null})),e])}))).then((function(e){return e.map((function(e){var t=m.a.get(e,"[2].items[0]"),n=m.a.find(m.a.get(t,"productRatePlanCharges"),{name:"Content types"}),r=m.a.get(n,"tiers[0].endingUnit");return C(C({},e[3]),{},{free_space:e[0],plans:e[1],contentTypesFreeMax:r})}))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return P.apply(this,arguments)}function P(){return(P=u()(s.a.mark((function e(t,n){var r,i,o,c,l,u,d,p,f=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:0,i=f.length>3&&void 0!==f[3]?f[3]:[],o=t.split("?"),c=a()(o,2),l=c[0],u=c[1],(d=new URLSearchParams(u)).set("order","sys.createdAt"),d.set("skip",r.toString()),e.next=8,w("".concat(l,"?").concat(d.toString()),n);case 8:if(p=e.sent,i=i.concat(p.items),!(p.total>p.skip+p.limit)){e.next=12;break}return e.abrupt("return",z(t,n,p.skip+p.limit,i));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return z("/organizations",e)}function N(e){return z("/spaces",e)}function I(e){return null===m.a.get(e,"free_space.limits.maximum",null)||m.a.get(e,"free_space.limits.maximum")-m.a.get(e,"free_space.usage")>0}function D(e){return m.a.find(m.a.get(e,"plans.items"),{name:"Basic platform"})}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowConnectionOnly,r=void 0!==n&&n,a=h.stringify({tosVersion:e,allowConnectionOnly:r});return Object(v.a)("".concat(g.a.api.base_url,"/auth/contentful?").concat(a))}},445:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(7),a=n.n(r),i=n(4),o=n.n(i),c=n(17),s=n.n(c),l=n(13),u=n.n(l),d=n(41),p=n.n(d),f=n(30),m=n.n(f),h=n(1),g=n.n(h),v=n(3),y=n.n(v),b=n(0),E=n.n(b),C=n(70),w=n(361),k=n(82),j=n(58);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var z=function(e){u()(n,e);var t=O(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(o()(r),"onChange",(function(e){var t=e.target.name,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.state);n[t]=e.target.value,r.setState(n)})),g()(o()(r),"onSubmit",(function(e){e.preventDefault();var t=r.state,n=t.email,a=t.password,i=r.props,o=i.type,c=i.token,s=i.onSubmit,l=void 0===s?function(){}:s,u=i.place,d=void 0===u?"":u,p=r.validateInput();if(!0===p){if(l(),r.setState({loading:!0,errors:{}}),k.a.track(E.a.compact(["login"===o?"Signin":"Signup",d,"Authenticate Button Clicked"]).join(" ")),"login"===o)C.a.authenticateUser(n,a).then((function(e){r.props.onLogin()})).catch((function(e){e.response&&401===e.response.status?r.setState({errors:{email:"Wrong Email or Password."},loading:!1}):e.response&&403===e.response.status?r.setState({errors:{email:e.message},loading:!1}):(r.setState({errors:{email:e.message},loading:!1}),k.a.track("Authentication Error",{isError:!0,error:E.a.get(e,"response.data",e),email:n}))}));else if("register"===o){var f=k.a.getInitialReferrer(),m=r.props.userGroup,h={redirect:r.props.redirect,initialReferrer:f};return m!==j.a&&(h.userGroup=m),C.a.registerUser(n,a,c,h).then((function(e){r.props.onRegister()})).catch((function(e){var t=E.a.get(e,"response.data.message","Error registering user.");("UserExistsError"===E.a.get(e,"response.data.name")||"RegisterEmailTaken"===E.a.get(e,"response.data.name"))&&(t="Email already registered!"),r.setState({errors:{email:t},loading:!1})}))}}else{var g=p;r.setState({errors:g})}})),r.state={email:"",password:"",errors:{},loading:!1},r}return s()(n,[{key:"formValid",get:function(){return"login"===this.props.type||this.state.email&&this.state.password&&this.props.tosAgree}}]),s()(n,[{key:"componentDidUpdate",value:function(e){e.type!==this.props.type&&this.setState({errors:{}})}},{key:"validateInput",value:function(){var e=this.state,t=e.email,n={};e.password.length<8&&(n.password="Your password must be at least 8 characters long.");return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())||(n.email="Email address must be valid."),!Object.keys(n).length||n}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=e.errors,a=e.loading,i=this.props,o=i.type,c=i.children,s=i.showForgotPassword,l=i.buttonTitle,u=i.buttonClassName,d=l||("login"===o?"SIGN IN":"SIGN UP");return y.a.createElement("form",{className:"login-form",onSubmit:this.onSubmit},y.a.createElement("div",{className:"form-field"},y.a.createElement("label",{htmlFor:"email"},"Email Address"),y.a.createElement("input",{name:"email",id:"email",className:"clean-input",onChange:this.onChange,value:t}),y.a.createElement("span",{className:"sub-field"},r&&r.email?y.a.createElement("span",{className:"error-message"},r.email):null)),y.a.createElement("div",{className:"form-field"},y.a.createElement("label",{htmlFor:"password"},"Password"),y.a.createElement("input",{name:"password",type:"password",id:"password",className:"clean-input",onChange:this.onChange,value:n}),y.a.createElement("span",{className:"sub-field"},r&&r.password?y.a.createElement("span",{className:"error-message"},r.password):null,s&&y.a.createElement("a",{className:"forgot-password",href:"/forgot-password"},"Forgot your password?"))),c,y.a.createElement("div",{className:"form-field"},y.a.createElement("button",{id:"login-button",type:"submit",disabled:!this.formValid,className:u||"cta-button"},a?y.a.createElement(w.a,null):d)))}}]),n}(v.Component);g()(z,"defaultProps",{showForgotPassword:!0,onLogin:function(){},onRegister:function(){}})},446:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(3),o=n.n(i),c=n(0),s=n.n(c),l=n(360),u=n.n(l),d=n(15),p=n(70),f=n(415),m=n(436),h=n(420),g=n(82),v=n(58),y=n(447),b=n.n(y),E=n(448),C=n.n(E),w=n(449),k=n.n(w);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={id:"github",icon:o.a.createElement(b.a,null)},z={id:"google",icon:o.a.createElement(C.a,null)},P={id:"netlify",icon:o.a.createElement(k.a,null)},R=s.a.compact([O,d.a.features.registerViaGoogle&&z,d.a.features.registerViaNetlify&&P]),N=R.filter((function(e){return["google"].includes(e.id)}));t.a=function(e){var t=e.children,n=e.userGroup,r=e.buttonOpts,a=void 0===r?{}:r,i=!n||n===v.a?R:N,c=(e.buttons||i).map((function(t){var n=s.a.extend({},t,a[t.id]);return o.a.createElement("button",{key:n.id,id:"login-button-".concat(n.id),type:"button",className:u()("login-button oauth-button",n.className||"cta-button"),onClick:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.token,r=t.tosVersion,a=t.userGroup,i=t.type,o=t.place,c=t.analytics,l=a===v.a?void 0:a,u=Promise.resolve();return g.a.track(s.a.compact(["login"===i?"Signin":"Signup",o,"Authenticate Social Button Clicked"]).join(" "),S(S({},c),{},{social:e})),"github"===e?u=Object(f.h)(n,{install:!1,allowConnectionOnly:!1},r):"google"===e?u=Object(m.d)(null,r,l):"netlify"===e&&(u=Object(h.e)(r,{allowConnectionOnly:!1})),u.then((function(){return p.a.refreshAuth()}))}(n.id,s.a.pick(e,["tosVersion","userGroup","token","type","place","analytics"])).then(e.onAuth)}},n.icon,n.text&&o.a.createElement("span",null,n.text))}));return c.length?"function"==typeof t?t(c):o.a.createElement(o.a.Fragment,null,c):null}},447:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("title",{key:0},"GitHub icon"),r.createElement("path",{fill:"#fff",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",key:1})])}a.defaultProps={role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=a,a.default=a},448:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(3, 3)"},[r.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",fill:"#fff",key:0}),r.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",fill:"#fff",key:1}),r.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",fill:"#fff",key:2}),r.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",fill:"#fff",key:3}),r.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape",key:4})]))}a.defaultProps={width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},e.exports=a,a.default=a},449:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{fill:"#FFF",d:"M28.589 14.135l-.014-.006c-.008-.003-.016-.006-.023-.013a.11.11 0 0 1-.028-.093l.773-4.726 3.625 3.626-3.77 1.604a.083.083 0 0 1-.033.006h-.015c-.005-.003-.01-.007-.02-.017a1.716 1.716 0 0 0-.495-.381zm5.258-.288l3.876 3.876c.805.806 1.208 1.208 1.355 1.674.022.069.04.138.054.209l-9.263-3.923a.728.728 0 0 0-.015-.006c-.037-.015-.08-.032-.08-.07 0-.038.044-.056.081-.071l.012-.005 3.98-1.684zm5.127 7.003c-.2.376-.59.766-1.25 1.427l-4.37 4.369-5.652-1.177-.03-.006c-.05-.008-.103-.017-.103-.062a1.706 1.706 0 0 0-.655-1.193c-.023-.023-.017-.059-.01-.092 0-.005 0-.01.002-.014l1.063-6.526.004-.022c.006-.05.015-.108.06-.108a1.73 1.73 0 0 0 1.16-.665c.009-.01.015-.021.027-.027.032-.015.07 0 .103.014l9.65 4.082zm-6.625 6.801l-7.186 7.186 1.23-7.56.002-.01c.001-.01.003-.02.006-.029.01-.024.036-.034.061-.044l.012-.005a1.85 1.85 0 0 0 .695-.517c.024-.028.053-.055.09-.06a.09.09 0 0 1 .029 0l5.06 1.04zm-8.707 8.707l-.81.81-8.955-12.942a.424.424 0 0 0-.01-.014c-.014-.019-.029-.038-.026-.06.001-.016.011-.03.022-.042l.01-.013c.027-.04.05-.08.075-.123l.02-.035.003-.003c.014-.024.027-.047.051-.06.021-.01.05-.006.073-.001l9.921 2.046a.164.164 0 0 1 .076.033c.013.013.016.027.019.043a1.757 1.757 0 0 0 1.028 1.175c.028.014.016.045.003.078a.238.238 0 0 0-.015.045c-.125.76-1.197 7.298-1.485 9.063zm-1.692 1.691c-.597.591-.949.904-1.347 1.03a2 2 0 0 1-1.206 0c-.466-.148-.869-.55-1.674-1.356L8.73 28.73l2.349-3.643c.011-.018.022-.034.04-.047.025-.018.061-.01.091 0a2.434 2.434 0 0 0 1.638-.083c.027-.01.054-.017.075.002a.19.19 0 0 1 .028.032L21.95 38.05zM7.863 27.863L5.8 25.8l4.074-1.738a.084.084 0 0 1 .033-.007c.034 0 .054.034.072.065a2.91 2.91 0 0 0 .13.184l.013.016c.012.017.004.034-.008.05l-2.25 3.493zm-2.976-2.976l-2.61-2.61c-.444-.444-.766-.766-.99-1.043l7.936 1.646a.84.84 0 0 0 .03.005c.049.008.103.017.103.063 0 .05-.059.073-.109.092l-.023.01-4.337 1.837zM.831 19.892a2 2 0 0 1 .09-.495c.148-.466.55-.868 1.356-1.674l3.34-3.34a2175.525 2175.525 0 0 0 4.626 6.687c.027.036.057.076.026.106-.146.161-.292.337-.395.528a.16.16 0 0 1-.05.062c-.013.008-.027.005-.042.002H9.78L.831 19.891zm5.68-6.403l4.491-4.491c.422.185 1.958.834 3.332 1.414 1.04.44 1.988.84 2.286.97.03.012.057.024.07.054.008.018.004.041 0 .06a2.003 2.003 0 0 0 .523 1.828c.03.03 0 .073-.026.11l-.014.021-4.56 7.063c-.012.02-.023.037-.043.05-.024.015-.058.008-.086.001a2.274 2.274 0 0 0-.543-.074c-.164 0-.342.03-.522.063h-.001c-.02.003-.038.007-.054-.005a.21.21 0 0 1-.045-.051l-4.808-7.013zm5.398-5.398l5.814-5.814c.805-.805 1.208-1.208 1.674-1.355a2 2 0 0 1 1.206 0c.466.147.869.55 1.674 1.355l1.26 1.26-4.135 6.404a.155.155 0 0 1-.041.048c-.025.017-.06.01-.09 0a2.097 2.097 0 0 0-1.92.37c-.027.028-.067.012-.101-.003-.54-.235-4.74-2.01-5.341-2.265zm12.506-3.676l3.818 3.818-.92 5.698v.015a.135.135 0 0 1-.008.038c-.01.02-.03.024-.05.03a1.83 1.83 0 0 0-.548.273.154.154 0 0 0-.02.017c-.011.012-.022.023-.04.025a.114.114 0 0 1-.043-.007l-5.818-2.472-.011-.005c-.037-.015-.081-.033-.081-.071a2.198 2.198 0 0 0-.31-.915c-.028-.046-.059-.094-.035-.141l4.066-6.303zm-3.932 8.606l5.454 2.31c.03.014.063.027.076.058a.106.106 0 0 1 0 .057c-.016.08-.03.171-.03.263v.153c0 .038-.039.054-.075.069l-.011.004c-.864.369-12.13 5.173-12.147 5.173-.017 0-.035 0-.052-.017-.03-.03 0-.072.027-.11a.76.76 0 0 0 .014-.02l4.482-6.94.008-.012c.026-.042.056-.089.104-.089l.045.007c.102.014.192.027.283.027.68 0 1.31-.331 1.69-.897a.16.16 0 0 1 .034-.04c.027-.02.067-.01.098.004zm-6.246 9.185l12.28-5.237s.018 0 .035.017c.067.067.124.112.179.154l.027.017c.025.014.05.03.052.056 0 .01 0 .016-.002.025L25.756 23.7l-.004.026c-.007.05-.014.107-.061.107a1.729 1.729 0 0 0-1.373.847l-.005.008c-.014.023-.027.045-.05.057-.021.01-.048.006-.07.001l-9.793-2.02c-.01-.002-.152-.519-.163-.52z"}))}a.defaultProps={width:"23",height:"23",viewBox:"0 0 40 40"},e.exports=a,a.default=a},450:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(7),a=n.n(r),i=n(17),o=n.n(i),c=n(13),s=n.n(c),l=n(41),u=n.n(l),d=n(30),p=n.n(d),f=n(1),m=n.n(f),h=n(3),g=n.n(h),v=n(0),y=n.n(v),b=n(360),E=n.n(b),C=n(70),w=(n(489),n(361)),k=n(58);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var S=function(e){s()(n,e);var t=j(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={email:"",submitting:!1,submissionStatus:"",message:"",expired:!1},r}return o()(n,[{key:"componentDidMount",value:function(){var e=this;k.c.isEmailConfirmed(this.props.user)||C.a.getEmailValidations().then((function(t){e.setState({email:t.email})})).catch((function(t){if("UserEmailAlreadyVerified"===y.a.get(t,"response.data.name"))return C.a.refreshAuth();e.setState({expired:!0})}))}},{key:"resendEmailVerification",value:function(){var e=this;this.setState({submitting:!0,message:"",submissionStatus:""}),this.props.onResendClicked(),C.a.resendValidationEmail().then((function(t){return e.setState({submitting:!1,submissionStatus:"success",message:"A new verification email was sent to ".concat(e.state.email)}),t})).catch((function(t){e.setState({submitting:!1,submissionStatus:"failure",message:"Error resending email"})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.message,a=t.submitting,i=t.expired,o=this.props,c=o.loaderOpts,s=o.showResendButton,l=o.title,u=o.description,d=o.buttonClassName,p=o.buttonTitle,f=o.user;return k.c.isEmailConfirmed(f)||i?null:g.a.createElement("div",{className:E()("verify-email-reminder",this.props.className)},g.a.createElement("div",{className:"verify-email-reminder-header"},l&&g.a.createElement("h3",null,l),n&&u&&u(n),r&&g.a.createElement("p",{className:E()("verify-email-message",this.state.submissionStatus)},r)),s&&g.a.createElement("div",{className:"verify-email-reminder-footer"},g.a.createElement("button",{type:"button",className:d,onClick:function(){return e.resendEmailVerification()}},a?g.a.createElement(w.a,c):g.a.createElement("span",null,p))))}}]),n}(h.Component);m()(S,"defaultProps",{buttonClassName:"button primary outline button-loader",buttonTitle:"Resend Verification Email",loaderSize:"mid",showResendButton:!0,title:"Your email address is unverified",description:function(e){return g.a.createElement("p",null,"During signup we sent an email to ",g.a.createElement("strong",null,e),". Please click the link in that email to complete verification.")},onResendClicked:function(){}})},461:function(e,t,n){},466:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));n(20),n(0);var r=n(414),a=n(15),i=n(5);n(11);function o(e){return e&&e.connections&&e.connections.find((function(e){return"sanity"===e.type}))?Object(i.a)("/auth/sanity/token"):Promise.reject()}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowConnectionOnly,n=void 0!==t&&t;return Object(r.a)("".concat(a.a.api.base_url,"/auth/sanity?allowConnectionOnly=").concat(n))}function s(){return Object(i.a)("/auth/connection/sanity/disconnect")}function l(){return Object(i.a)("/sanity/user/my")}function u(){return Object(i.a)("/sanity/project/my")}function d(e){return Object(i.a)("/sanity/project/".concat(e,"/datasets"))}},467:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("g",{fillRule:"nonzero",fill:"none"},[r.createElement("path",{fill:"#12100E",d:"M0 0h195v195H0z",key:0}),r.createElement("path",{d:"M46.5340803 65.2157554c.1627575-1.6080982-.4504803-3.1975244-1.6512605-4.2798354L32.6512605 46.2010582V44h37.9789916l29.3557423 64.380952L125.794585 44H162v2.2010582l-10.457983 10.0270429c-.901593.6872466-1.348829 1.8167851-1.161998 2.9347443v73.6743096c-.186831 1.117959.260405 2.247497 1.161998 2.934744l10.213352 10.027043V148H110.38282v-2.201058l10.580299-10.271605c1.039682-1.039389 1.039682-1.345091 1.039682-2.934744V73.0417402l-29.4169 74.7136978h-3.9752567L54.3622782 73.0417402v50.0740738c-.2855504 2.105255.4136417 4.224786 1.8958917 5.747208l13.7605042 16.691358v2.201058H31v-2.201058l13.7605042-16.691358c1.4714579-1.524946 2.1298796-3.658537 1.7735761-5.747208V65.2157554z",fill:"#FFF",key:1})]))}a.defaultProps={width:"24",height:"24",viewBox:"0 0 195 195"},e.exports=a,a.default=a},469:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(3),o=n.n(i),c=n(37),s=n.n(c),l=n(360),u=n.n(l),d=n(361),p=function(e){var t;return o.a.createElement("button",{className:u()("button-flat",(t={disabled:e.disabled,submitting:e.submitting},a()(t,"".concat(e.status),e.status),a()(t,"button-flat-outline",e.outline),t)),onClick:e.disabled?void 0:function(){return e.handleClick()}},e.submitting?o.a.createElement("span",{className:"loading-icon"},o.a.createElement(d.a,{color:"white"})):o.a.createElement("span",null,e.text))};p.propTypes={submitting:s.a.bool,disabled:s.a.bool,status:s.a.string,text:s.a.string.isRequired,handleClick:s.a.func},p.defaultProps={submitting:!1,disabled:!1},t.a=p},474:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("g",{transform:"translate(-1318.000000, -331.000000)",fillRule:"nonzero"},r.createElement("g",{transform:"translate(318.000000, 291.000000)"},r.createElement("g",{transform:"translate(864.000000, 36.000000)"},r.createElement("path",{d:"M148,4 C141.369863,4 136,9.36986301 136,16 C136,22.630137 141.369863,28 148,28 C154.630137,28 160,22.630137 160,16 C160,9.36986301 154.630137,4 148,4 Z M152.383562,12.1369863 C153.506849,12.109589 154.082192,13.4794521 153.287671,14.2739726 L147.479452,20.0821918 C147.123288,20.4383562 146.520548,20.4383562 146.164384,20.0821918 L143.232877,17.0958904 C142.027397,15.9178082 143.808219,14.1369863 144.986301,15.3424658 L146.630137,16.9863014 C146.739726,17.0958904 146.958904,17.0958904 147.068493,16.9863014 L151.561644,12.4931507 C151.753425,12.2739726 152.054795,12.1369863 152.383562,12.1369863 Z"})))))}a.defaultProps={fill:"#20C778",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},e.exports=a,a.default=a},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(14),a=n.n(r),i=n(21),o=n.n(i),c=n(10),s=n.n(c),l=n(0),u=n.n(l),d=n(129),p=n.n(d),f=n(451),m=n.n(f),h=n(26),g=n(415),v="loading",y="success",b="failure",E="warning",C="input",w="repo",k="stackbit_yaml",j="validation",S=function(e){return Object.keys(e).map((function(t){switch(t){case"config":return function(e){return{name:"Validating stackbit.yaml",steps:e.map((function(e){return{success:!1,errors:[e.message]}}))}}(e[t]);case"content":return function(e){return{name:"Validating Data",steps:e.map((function(e){return{success:!1,name:'"'.concat(e.filePath,'"').concat(e.modelName?' with model "'.concat(e.modelName,'"'):"",":"),errors:["".concat(e.message)]}}))}}(e[t]);default:return{}}}))},O=function(e,t,n,r,a){var i;if(!Object(g.g)(e))return i=[{step:C,state:b}];if(i=[{step:w,state:v}],i=[{step:w,state:y,params:{branch:t,branches:n}},{step:k,state:v}],r.hasConfig){var o,c,l=u.a.pick(r,["config","content"]),d=Object.values(l).reduce((function(e,t){return e.push.apply(e,s()(t.map((function(e){return e.name})))),e}),[]),p=d.length;i[i.length-1].state=y,i.push({step:j,state:v});var f=null!==(o=null===(c=a.models)||void 0===c?void 0:c.length)&&void 0!==o?o:0;i[i.length-1].params={success:!d.length,stages:S(l),modelsCount:a.import?0:f},i[i.length-1].state=0!==p?b:y}else i[i.length-1].state=E,i.push({step:j,state:y,params:{modelsCount:0}});return i},z=function(){var e=o()(a.a.mark((function e(t){var n,r,i,o,c,s,l,d,f,g,v,y,b,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.project,i=void 0===r?{}:r,o=t.repoUrl,c=void 0===o?null:o,s=t.repoBranch,l=void 0===s?null:s,d=t.forceValidate,f=void 0===d||d,g=t.initializer,p.a.debug("Validating Custom Theme: ".concat(c," - ").concat(l)),v=u.a.get(i,"wizard.theme.settings.source"),c&&(v=m()(c,{forceHttps:!0})),y=u.a.get(i,"wizard.theme.settings.branch",null),l&&(y=l),b={stackbitYmlFound:null,stackbitYmlValid:null,themeConfig:null,analyzedConfig:null,isValidated:null,isAnalyzed:null,source:v,branch:y},e.next=9,Object(h.a)(v,y,{validateContent:f},g);case 9:return E=e.sent,p.a.debug("Analyzed Repo",E),b.branches=E.branches,b.branch=E.branch,b.invalidBranch=null==E?void 0:E.invalidBranch,b.isAnalyzed=!0,b.analyzedConfig={},b.analyzedConfig.ssg={ssgName:E.ssgName||null,ssgDir:E.ssgDir||null,envVars:E.envVars||[]},b.analyzedConfig.cms={cmsName:E.cmsName||"git",cmsData:E.cmsData||{}},b.analyzedConfig.config=null!==(n=null==E?void 0:E.config)&&void 0!==n?n:null,b.analyzedConfig.theme=null==E?void 0:E.theme,b.stackbitYmlFound=E.validation.hasConfig,b.stackbitYmlValid=E.validation.hasConfig&&u.a.isEmpty(E.validation.config)&&u.a.isEmpty(E.validation.content),b.stackbitYmlGenerated=(null==E?void 0:E.config)&&!E.validation.hasConfig,b.themeConfig=null==E?void 0:E.config,b.isValidated=!0,b.themeRequiresImportData=["contentful","datocms","sanity"].includes(E.cmsName),b.status=O(v,y,E.branches,E.validation,null==E?void 0:E.config),e.abrupt("return",b);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},484:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("g",{id:"Widget",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Widget-/-Preferences",transform:"translate(-30.000000, -430.000000)",fillRule:"nonzero"},r.createElement("g",{id:"Widget-Open"},r.createElement("g",{id:"User",transform:"translate(30.000000, 429.000000)"},r.createElement("g",{id:"google-g",transform:"translate(0.000000, 1.000000)"},[r.createElement("path",{d:"M9,24.6024263 L7.58642813,29.8904748 L2.41985547,30 C0.875808584,27.1301694 0,23.8467183 0,20.3574901 C0,16.9834302 0.81885961,13.8016356 2.27034458,11 L2.27145501,11 L6.87115537,11.845045 L8.88610205,16.4266639 C8.46437825,17.6587032 8.23452014,18.9812717 8.23452014,20.3574901 C8.23467877,21.8511023 8.50467084,23.2821627 9,24.6024263 Z",id:"Path",fill:"#FBBB00",key:0}),r.createElement("path",{d:"M39.6426917,16 C39.8775422,17.1890068 40,18.4169408 40,19.6719011 C40,21.0791152 39.846069,22.4517785 39.5528254,23.7758403 C38.5573467,28.2814897 35.9561772,32.215823 32.352819,35 L32.3517007,34.9989251 L26.5168629,34.712768 L25.6910517,29.7578052 C28.0820539,28.4100185 29.9506335,26.3008098 30.9349288,23.7758403 L20,23.7758403 L20,16 L31.0944515,16 L39.6426917,16 L39.6426917,16 Z",id:"Path",fill:"#518EF8",key:1}),r.createElement("path",{d:"M31.9989112,35.5476008 L32,35.5487065 C28.5881978,38.3336673 24.2541334,40 19.5362015,40 C11.9544274,40 5.36265223,35.6964722 2,29.3633182 L8.45179102,24 C10.1330783,28.5568066 14.461621,31.8006229 19.5362015,31.8006229 C21.7173876,31.8006229 23.7608449,31.2018204 25.5143017,30.1564828 L31.9989112,35.5476008 Z",id:"Path",fill:"#28B446",key:2}),r.createElement("path",{d:"M33,4.56549694 L26.4210476,9.82508328 C24.5699166,8.69517391 22.3817186,8.042451 20.0374021,8.042451 C14.7438891,8.042451 10.2459619,11.3701294 8.61687139,16 L2.0011106,10.7109768 L2,10.7109768 C5.37987103,4.34758695 12.1886381,0 20.0374021,0 C24.9648933,0 29.4828906,1.71399799 33,4.56549694 Z",id:"Path",fill:"#F14336",key:3})]))))))}a.defaultProps={width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1"},e.exports=a,a.default=a},489:function(e,t,n){},491:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(20),a=n.n(r),i=n(0),o=n.n(i),c=n(15),s=n(11),l={};function u(e){return l.themes?Promise.resolve(l.themes):a.a.get("".concat(c.a.themes.base_url,"/themesData.json")).then((function(t){var n=c.a.wizard.disabledThemes,r=t.data.themeList.map((function(e){return t.data.themeMap[e]})).concat(e).filter((function(e){return!n.includes(e.id)}));return l.themes=r,r})).catch((function(e){var t=e.response||e;throw s.a.error("Themes Api Fetch Error",{error:t}),e}))}function d(){return l.jamstackthemes?Promise.resolve(l.jamstackthemes):a.a.get("".concat(c.a.jamstackthemes.base_url,"/index.json")).then((function(e){var t=o.a.isString(e.data)?[]:e.data;return l.jamstackthemes=t,t})).catch((function(e){var t=e.response||e;throw s.a.error("Themes Api Fetch Error",{error:t}),e}))}},492:function(e){e.exports=JSON.parse('[{"id":"github","title":"GitHub","description":"A web-based hosting service for version control using Git.","image":"https://assets.stackbit.com/wizard/deployment/github-logo.svg"}]')},493:function(e){e.exports=JSON.parse('[{"id":"netlify","title":"Netlify","description":"Build, deploy, and manage modern web projects","image":"https://assets.stackbit.com/wizard/deployment/netlify-logo.svg"},{"id":"azure","title":"Azure","description":"Build, test, deploy, and manage applications in the cloud with Microsoft Azure.","image":"https://assets.stackbit.com/wizard/deployment/azure-logo.svg"},{"id":"digitalocean","title":"DigitalOcean","description":"Deploy apps running in parallel on multiple computers in the cloud with DigitalOcean.","image":"https://assets.stackbit.com/wizard/deployment/do-logo-vertical.svg"}]')},494:function(e){e.exports=JSON.parse('[{"id":"sharedContainer","title":"Stackbit","description":"Shared Container Stackbit","image":"https://assets.stackbit.com/wizard/deployment/netlify-logo.svg","hidden":true}]')},495:function(e){e.exports=JSON.parse('[{"id":"custom","title":"Custom Theme","description":"Import a custom theme from a public Github repo","demo":null,"image":"https://assets.stackbit.com/wizard/theme/custom.png","data":{"source":""},"status":"enabled","weight":100}]')},496:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return g}));var r=n(20),a=n.n(r),i=n(15),o=n(5),c=n(414),s=n(70),l=n(11);function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get";return a()({method:r,url:i.a.forestry.apiBaseUrl+e,data:n,headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return"string"!=typeof e.data&&e.data})).catch((function(e){var t=e.response||e;throw l.a.error("Forestry Api Fetch Error",{error:t}),e}))}function d(e){return e&&e.connections&&e.connections.find((function(e){return"forestry"===e.type}))?u("/me",e.connections.find((function(e){return"forestry"===e.type})).accessToken):Promise.resolve()}function p(e){return e&&e.connections&&e.connections.find((function(e){return"forestry"===e.type}))?u("/sites",e.connections.find((function(e){return"forestry"===e.type})).accessToken):Promise.resolve()}function f(e,t){if(!e||!e.connections||!e.connections.find((function(e){return"forestry"===e.type})))return Promise.resolve();var n=e.connections.find((function(e){return"forestry"===e.type}));return u("/sites/".concat(t),n.accessToken)}function m(e){return e&&e.connections&&e.connections.find((function(e){return"forestry"===e.type}))?u("/oauth/token/info",e.connections.find((function(e){return"forestry"===e.type})).accessToken).catch((function(){return!1})):Promise.reject()}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowConnectionOnly,n=void 0!==t&&t;return Object(c.a)("".concat(i.a.api.base_url,"/auth/forestry?allowConnectionOnly=").concat(n))}function g(){return Object(o.a)("/auth/forestry/refresh").then((function(){return s.a.refreshAuth()}))}},497:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(20),a=n.n(r),i=n(15),o=n(414),c=n(11);function s(e){return e&&e.connections&&e.connections.find((function(e){return"datocms"===e.type}))?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get";return a()({method:r,url:i.a.datocms.apiBaseUrl+e,data:n,headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}}).then((function(e){return e.data})).catch((function(e){var t=e.response||e;throw c.a.error("DatoCMS Api Fetch Error",{error:t}),e}))}("/oauth/token/info",e.connections.find((function(e){return"datocms"===e.type})).accessToken):Promise.reject()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowConnectionOnly,n=void 0!==t&&t;return Object(o.a)("".concat(i.a.api.base_url,"/auth/datocms?allowConnectionOnly=").concat(n))}function u(){return 40}},524:function(e,t,n){"use strict";var r=n(7),a=n.n(r),i=n(17),o=n.n(i),c=n(4),s=n.n(c),l=n(13),u=n.n(l),d=n(41),p=n.n(d),f=n(30),m=n.n(f),h=n(1),g=n.n(h),v=n(3),y=n.n(v),b=n(193),E=n(445),C=n(58),w=n(440),k=n(446),j=n(15);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var O=function(e){u()(n,e);var t=S(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(s()(e),"state",{tosAgree:!1,type:"register"}),g()(s()(e),"toggleTos",(function(){e.setState({tosAgree:!e.state.tosAgree})})),g()(s()(e),"switchLogin",(function(){var t="login"===e.state.type?"register":"login";e.setState({type:t}),e.props.onLoginSwitched(t)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.projectId,r=e.place,a=this.state,i=a.tosAgree,o=a.type,c="register"===o,s={userId:null==t?void 0:t.id,projectId:n};return y.a.createElement(y.a.Fragment,null,y.a.createElement(E.a,{place:r,type:o,tosAgree:i,showForgotPassword:!1,buttonTitle:"Sign ".concat(c?"Up":"In"),redirect:window.location.pathname+window.location.search,userGroup:C.c.getGroupId(t)},c&&y.a.createElement(w.a,{place:r,tosAgree:i,handleOnChange:this.toggleTos,analytics:s})),y.a.createElement("h1",null,"Sign ".concat(c?"up":"in"," with another account")),y.a.createElement(k.a,{buttonOpts:this.props.buttonsSettings,tosVersion:j.a.auth.tosVersion,userGroup:C.c.getGroupId(t),type:o,place:r,analytics:s},(function(e){return y.a.createElement("div",{className:"form-field oauth-buttons"},e)})),y.a.createElement("div",{className:"text-center already-user-label"},y.a.createElement("span",null,c?"Already a Stackbit user?":"Don't have an account?"," ",y.a.createElement("button",{type:"button",className:"studio-button studio-button--link",onClick:this.switchLogin},c?"Log In":"Sign Up"))))}}]),n}(v.Component);g()(O,"defaultProps",{onLoginSwitched:function(){}});t.a=Object(b.connect)((function(e){return{user:e.global.user}}))(O)},526:function(e,t,n){},549:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("path",{d:"m60.885 30.498s-12.232-14.498-28.885-14.498c-16.652 0-28.885 14.498-28.885 14.498-.697.826-.697 2.178 0 3.005 0-.001 12.233 14.497 28.885 14.497s28.884-14.498 28.884-14.498c.698-.826.698-2.178.001-3.004zm-28.885 13.819c-6.802 0-12.317-5.514-12.317-12.317s5.515-12.317 12.317-12.317 12.317 5.515 12.317 12.317-5.514 12.317-12.317 12.317z",key:0}),r.createElement("path",{d:"m37.809 29.423c-1.447 0-2.621-1.173-2.621-2.621 0-.378.081-.738.225-1.062-1.014-.554-2.177-.869-3.413-.869-3.937 0-7.129 3.192-7.129 7.129s3.192 7.13 7.129 7.13 7.129-3.192 7.129-7.129c0-.955-.189-1.866-.53-2.699-.249.078-.515.121-.79.121z",key:1})])}a.defaultProps={enableBackground:"new 0 0 64 64",fill:"currentColor",height:"100",viewBox:"0 0 64 64",width:"100"},e.exports=a,a.default=a},554:function(e,t,n){},556:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{d:"m36.625 36.454h30.694l-7.799 7.799c-1.074 1.073-1.074 2.814 0 3.889.537.537 1.24.806 1.944.806s1.407-.269 1.944-.806l12.493-12.492c.127-.127.241-.267.342-.416.025-.039.043-.083.066-.123.068-.113.135-.227.187-.349.024-.058.035-.12.056-.179.037-.11.078-.219.102-.335.036-.178.055-.359.055-.544s-.019-.366-.055-.544c-.023-.116-.064-.225-.102-.335-.021-.059-.031-.121-.056-.179-.052-.122-.118-.235-.187-.349-.023-.04-.041-.084-.066-.123-.101-.149-.215-.289-.342-.416l-12.49-12.49c-1.074-1.074-2.814-1.074-3.889 0-1.074 1.073-1.074 2.814 0 3.889l7.797 7.798h-30.694c-10.109 0-18.334 8.225-18.334 18.334 0 1.519 1.231 2.75 2.75 2.75s2.75-1.231 2.75-2.75c0-7.078 5.757-12.835 12.834-12.835zm42.334 11.508c-1.519 0-2.75 1.231-2.75 2.75 0 7.077-5.757 12.834-12.834 12.834h-30.694l7.799-7.799c1.074-1.073 1.074-2.814 0-3.889s-2.814-1.074-3.889 0l-12.493 12.493c-.127.127-.241.267-.342.416-.024.038-.041.08-.063.118-.069.114-.138.229-.189.354-.023.057-.034.118-.055.176-.037.111-.079.221-.103.338-.036.178-.055.359-.055.544s.019.366.055.544c.023.117.065.227.103.338.021.058.031.119.055.176.052.124.12.239.189.354.022.038.039.08.063.118.101.149.215.289.342.416l12.491 12.491c.537.537 1.24.806 1.944.806s1.407-.269 1.944-.806c1.074-1.073 1.074-2.814 0-3.889l-7.797-7.798h30.694c10.109 0 18.334-8.225 18.334-18.334.001-1.52-1.23-2.751-2.749-2.751z"}))}a.defaultProps={enableBackground:"new 0 0 100 100",fill:"currentColor",height:"100",viewBox:"0 0 100 100",width:"100"},e.exports=a,a.default=a},574:function(e,t,n){"use strict";t.a=n.p+"assets/images/themes-layer.png"},575:function(e,t,n){"use strict";t.a=n.p+"assets/images/gen-layer.png"},576:function(e,t,n){"use strict";t.a=n.p+"assets/images/cms-layer.png"},577:function(e,t,n){"use strict";t.a=n.p+"assets/images/deployment-layer.png"},578:function(e,t,n){"use strict";t.a=n.p+"assets/images/cube.png"},621:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("path",{d:"M11 .362c6.075 0 11 4.925 11 11s-4.925 11-11 11-11-4.925-11-11 4.925-11 11-11z",fill:"#52555D",key:0}),r.createElement("path",{d:"M7.005 11.377a.667.667 0 010-.943l3.3-3.3a.667.667 0 11.942.943l-3.3 3.3a.667.667 0 01-.942 0zM7.005 15.438a.667.667 0 010-.943l3.3-3.3a.667.667 0 11.942.943l-3.3 3.3a.667.667 0 01-.942 0z",fill:"#FFF",key:1}),r.createElement("path",{d:"M10.305 7.158c.26-.26.682-.26.942 0l3.3 3.3a.667.667 0 11-.943.943l-3.3-3.3a.667.667 0 010-.943zM10.305 11.219c.26-.26.682-.26.942 0l3.3 3.3a.667.667 0 11-.943.942l-3.3-3.3a.667.667 0 010-.942z",fill:"#FFF",key:2})])}a.defaultProps={width:"22",height:"23",viewBox:"0 0 22 23"},e.exports=a,a.default=a},622:function(e,t,n){"use strict";var r=n(7),a=n.n(r),i=n(17),o=n.n(i),c=n(4),s=n.n(c),l=n(13),u=n.n(l),d=n(41),p=n.n(d),f=n(30),m=n.n(f),h=n(1),g=n.n(h),v=n(3),y=n.n(v),b=n(193),E=n(524),C=n(484),w=n.n(C);n(554);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var j=function(e){u()(n,e);var t=k(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(s()(e),"state",{type:"register"}),g()(s()(e),"onLoginSwitched",(function(t){e.setState({type:t}),e.props.onLoginSwitched(t)})),e}return o()(n,[{key:"render",value:function(){var e=this.props.description,t="register"===this.state.type,n={google:{icon:y.a.createElement(w.a,null),text:"Sign ".concat(t?"up":"in"," with Google"),className:"studio-button studio-button--transparent-whitecontent-coloricon"},github:{text:"Sign ".concat(t?"up":"in"," with Github"),className:"studio-button studio-button--transparent-whitecontent"},netlify:{text:"Sign ".concat(t?"up":"in"," with Netlify"),className:"studio-button studio-button--transparent-whitecontent"}},r="function"==typeof e?e(t):"To keep working on your site, please sign ".concat(t?"up":"in"," to Stackbit");return y.a.createElement("div",{className:"fullscreen-overlay register-popup"},y.a.createElement("div",{className:"fullscreen-overlay-container"},y.a.createElement("h2",{className:"fullscreen-overlay-title"},"Sign ",t?"Up":"In"," to Stackbit"),y.a.createElement("p",{className:"fullscreen-overlay-desc"},r),y.a.createElement(E.a,{onLoginSwitched:this.onLoginSwitched,buttonsSettings:n})))}}]),n}(v.Component);g()(j,"defaultProps",{onLoginSwitched:function(){}});t.a=Object(b.connect)((function(e){return{user:e.global.user}}))(j)},624:function(e,t,n){},625:function(e,t,n){},985:function(e,t,n){},986:function(e,t,n){},987:function(e,t,n){},988:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("title",{key:0},"back"),r.createElement("desc",{key:1},"Created with Sketch."),r.createElement("defs",{key:2}),r.createElement("g",{id:"Wizard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.5",key:3},r.createElement("g",{id:"wizard-cms-selected",transform:"translate(-335.000000, -763.000000)",fill:"#031E34"},r.createElement("g",{id:"Group-6",transform:"translate(294.000000, 632.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(40.000000, 124.000000)"},r.createElement("path",{d:"M6.078125,7.6875 L6.078125,8.7421875 C6.078125,8.94531352 6.14583266,9.11979094 6.28125,9.265625 C6.41666734,9.41145906 6.58593648,9.49479156 6.7890625,9.515625 C7.90885977,9.61979219 8.99218227,10.0338505 10.0390625,10.7578125 C11.0859427,11.4817745 11.888018,12.5338473 12.4453125,13.9140625 C12.481771,14.0130213 12.4739586,14.1041663 12.421875,14.1875 C12.3697914,14.2708337 12.2968755,14.3177083 12.203125,14.328125 C12.1093745,14.3385417 12.0234379,14.3151045 11.9453125,14.2578125 C10.8098902,13.221349 9.09896977,12.7083333 6.8125,12.71875 C6.61458234,12.71875 6.44270906,12.7916659 6.296875,12.9375 C6.15104094,13.0833341 6.078125,13.2552073 6.078125,13.453125 L6.078125,14.7890625 C6.078125,14.9401049 6.01041734,15.0442705 5.875,15.1015625 C5.73958266,15.1588545 5.61718805,15.1380213 5.5078125,15.0390625 L1.90625,11.703125 C1.76041594,11.5677077 1.6875,11.3958344 1.6875,11.1875 C1.6875,10.9791656 1.76302008,10.8046882 1.9140625,10.6640625 L5.5078125,7.4375 C5.61718805,7.33333281 5.73958266,7.31249969 5.875,7.375 C6.01041734,7.43750031 6.078125,7.54166594 6.078125,7.6875 Z",id:"back"})))))])}a.defaultProps={width:"12px",height:"9px",viewBox:"0 0 12 9",version:"1.1"},e.exports=a,a.default=a},989:function(e,t,n){},990:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{d:"m681.954064 29.2 1.909188-1.9091883c.488155-.4881554.488155-1.2796116 0-1.767767-.488155-.4881553-1.279612-.4881553-1.767767 0l-1.909188 1.9091883-1.909189-1.9091883c-.488155-.4881553-1.279611-.4881553-1.767767 0-.488155.4881554-.488155 1.2796116 0 1.767767l1.909189 1.9091883-1.909189 1.9091883c-.488155.4881554-.488155 1.2796116 0 1.767767.488156.4881553 1.279612.4881553 1.767767 0l1.909189-1.9091883 1.909188 1.9091883c.488155.4881553 1.279612.4881553 1.767767 0 .488155-.4881554.488155-1.2796116 0-1.767767zm-2.017767-12.2c6.630137 0 12 5.369863 12 12s-5.369863 12-12 12-12-5.369863-12-12 5.369863-12 12-12z",fill:"#f04842",transform:"translate(-667 -17)"}))}a.defaultProps={height:"24",viewBox:"0 0 25 24",width:"25"},e.exports=a,a.default=a},991:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("title",{key:0},"GitHub icon"),r.createElement("path",{fill:"#000",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12",key:1})])}a.defaultProps={role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=a,a.default=a},992:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"}))}a.defaultProps={height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","aria-hidden":"true"},e.exports=a,a.default=a},993:function(e,t,n){},994:function(e,t,n){},995:function(e,t,n){},997:function(e,t,n){var r=n(3);function a(e){return r.createElement("svg",e,[r.createElement("path",{d:"M11 .362c6.075 0 11 4.925 11 11s-4.925 11-11 11-11-4.925-11-11 4.925-11 11-11z",fill:"#52555D",key:0}),r.createElement("path",{d:"M7.005 11.377a.667.667 0 010-.943l3.3-3.3a.667.667 0 11.942.943l-3.3 3.3a.667.667 0 01-.942 0zM7.005 15.438a.667.667 0 010-.943l3.3-3.3a.667.667 0 11.942.943l-3.3 3.3a.667.667 0 01-.942 0z",fill:"#FFF",key:1}),r.createElement("path",{d:"M10.305 7.158c.26-.26.682-.26.942 0l3.3 3.3a.667.667 0 11-.943.943l-3.3-3.3a.667.667 0 010-.943zM10.305 11.219c.26-.26.682-.26.942 0l3.3 3.3a.667.667 0 11-.943.942l-3.3-3.3a.667.667 0 010-.942z",fill:"#FFF",key:2})])}a.defaultProps={width:"22",height:"23",viewBox:"0 0 22 23"},e.exports=a,a.default=a},998:function(e,t,n){},999:function(e,t,n){}}]);